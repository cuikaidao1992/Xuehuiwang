!function(a,b){"function"==typeof define&&define.amd?define("TRecord",["jquery"],b):a.TRecord=b(a.$)}(this,function(a){function b(a,b){i[a]=b||new Date-0}function c(a,b){var c="",d=100*Math.random()+1;for(var e in b)c+="&"+e+"="+b[e].cost;if(j[a]={},a&&c){c="http://isdspeed.qq.com/cgi-bin/r.cgi?"+a+c+"&r="+d;var f=new Image;f.src=c,f=null}}function d(a,b){if(a&&b)for(var c in b)a[c]=b[c];return a}function e(a){return window.ISD_cgi_map&&window.ISD_cgi_map[a]||1}function f(a,b,c){if("number"==typeof c&&c>=0){var d=a[b];d?(d.cost=Math.round((d.num*d.cost+c)/(d.num+1)),d.num+=1):a[b]={cost:c,num:1}}}function g(a,b){var g=b&&b.url||h.url;"cgi"==a.type?g="flag1=7832&flag2=39&flag3=25":"cgiFail"==a.type&&(g="flag1=7832&flag2=39&flag3=27"),l[g]&&clearTimeout(l[g]),b=b||{},j[g]||(j[g]={});var m=j[g],n=d(h.isd,b.isd),o=null;if(a&&"object"==typeof a)if(a instanceof Array)for(var p=0;p<a.length;p++){var q=a[p];if(0==p)o=i[q];else{var r=i[q]-o;r>0&&!isNaN(r)&&(m[n[q]]={cost:r,num:1})}}else if("cgi"==a.type||"cgiFail"==a.type){var s=e(a.cgi);f(m,s,a.cost)}else for(var s in a)f(m,s,a[s]);var t=0===b.delay?0:b.delay||k;t?l[g]=setTimeout(function(){c(g,m)},t):c(g,m)}var h={url:"",isd:{page_start:0,page_css_ready:1,page_js_ready:2,page_main_start:3,page_main_end:4,page_render_end:5,page_render_fp:6}},i={},j={},k=500,l={},m=window.TRecord;if(m){var n=m.getCachedData();a.extend(h,n.cfg),a.extend(i,n.speedPoints)}return b("page_start",window.T&&window.T[0]),{cfg:h,push:b,report:g}}),function(a,b){"function"==typeof define&&define.amd?define("es5-safe.wrapper",[],b):b()}(this,function(){!function(){function a(a){function b(){}var c;return Object.create?c=Object.create(a):(b.prototype=a,c=new b),c}window.console=window.console||{log:function(){},debug:function(){},info:function(){},warn:function(){},error:function(){}};var b=Object.prototype,c=Array.prototype,d=Function.prototype,e=String.prototype,f=b.hasOwnProperty,g=c.slice;d.bind||(d.bind=function(b){function c(){if(this instanceof c){var f=a(d.prototype),h=d.apply(f,e.concat(g.call(arguments)));return Object(h)===h?h:f}return d.apply(b,e.concat(g.call(arguments)))}var d=this;if("function"!=typeof d)throw new TypeError("Bind must be called on a function");var e=g.call(arguments,1);return c}),Object.keys||(Object.keys=function(){var a=!{toString:""}.propertyIsEnumerable("toString"),b=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],c=b.length;return function(d){if(d!==Object(d))throw new TypeError(d+" is not an object");var e=[];for(var g in d)f.call(d,g)&&e.push(g);if(a)for(var h=0;c>h;h++)f.call(d,b[h])&&e.push(b[h]);return e}}()),Array.isArray||(Array.isArray=function(a){return"[object Array]"===b.toString.call(a)}),c.forEach||(c.forEach=function(a,b){for(var c=0,d=this.length>>>0;d>c;c++)c in this&&a.call(b,this[c],c,this)}),c.every||(c.every=function(a,b){for(var c=0,d=this.length>>>0;d>c;c++)if(c in this&&!a.call(b,this[c],c,this))return!1;return!0}),c.map||(c.map=function(a,b){for(var c=this.length>>>0,d=new Array(c),e=0;c>e;e++)e in this&&(d[e]=a.call(b,this[e],e,this));return d}),c.indexOf||(c.indexOf=function(a,b){var c=this.length>>>0;for(b=Number(b)||0,b=Math[0>b?"ceil":"floor"](b),0>b&&(b=Math.max(b+c,0));c>b;b++)if(b in this&&this[b]===a)return b;return-1}),c.filter||(c.filter=function(a,b){for(var c,d=[],e=0,f=this.length>>>0;f>e;e++)e in this&&(c=this[e],a.call(b,c,e,this)&&d.push(c));return d}),e.trim||(e.trim=function(){var a=["\\s","00A0","1680","180E","2000-\\u200A","200B","2028","2029","202F","205F","3000"].join("\\u"),b=new RegExp("^["+a+"]+"),c=new RegExp("["+a+"]+$");return function(){return String(this).replace(b,"").replace(c,"")}}()),Date.now||(Date.now=function(){return+new Date})}(),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(a){return 10>a?"0"+a:a}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g,h=gap,i=b[a];switch(i&&"object"==typeof i&&"function"==typeof i.toJSON&&(i=i.toJSON(a)),"function"==typeof rep&&(i=rep.call(b,a,i)),typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";if(gap+=indent,g=[],"[object Array]"===Object.prototype.toString.apply(i)){for(f=i.length,c=0;f>c;c+=1)g[c]=str(c,i)||"null";return e=0===g.length?"[]":gap?"[\n"+gap+g.join(",\n"+gap)+"\n"+h+"]":"["+g.join(",")+"]",gap=h,e}if(rep&&"object"==typeof rep)for(f=rep.length,c=0;f>c;c+=1)"string"==typeof rep[c]&&(d=rep[c],e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&g.push(quote(d)+(gap?": ":":")+e));return e=0===g.length?"{}":gap?"{\n"+gap+g.join(",\n"+gap)+"\n"+h+"}":"{"+g.join(",")+"}",gap=h,e}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;JSON.stringify=function(a,b,c){var d;if(gap="",indent="","number"==typeof c)for(d=0;c>d;d+=1)indent+=" ";else"string"==typeof c&&(indent=c);if(rep=b,b&&"function"!=typeof b&&("object"!=typeof b||"number"!=typeof b.length))throw new Error("JSON.stringify");return(str("",{"":a})||"").replace(/"uin":"(\d{5,11}|\d{18})"/g,'"uin":$1')},JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&"object"==typeof e)for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),void 0!==d?e[c]=d:delete e[c]);return reviver.call(a,b,e)}text=(text||"").replace(/\"(\:)(\d{18,})([,}])/g,'"$1"$2"$3');var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}}()}),function(a,b){"function"==typeof define&&define.amd?define("util.cookie",["jquery"],b):a.Cookie=b(a.jQuery)}(this,function(a){var b={get:function(a){var b=document.cookie.match(new RegExp("(^| )"+a+"=([^;]*)(;|$)"));return b?decodeURIComponent(b[2]):""},set:function(a,b,c,d,e){var f=new Date;f.setTime(f.getTime()+(e?36e5*e:2592e6)),document.cookie=a+"="+b+"; expires="+f.toGMTString()+"; path="+(d?d:"/")+"; "+(c?"domain="+c+";":"")},del:function(a,b,c){document.cookie=a+"=; expires=Mon, 26 Jul 1997 05:00:00 GMT; path="+(c?c:"/")+"; "+(b?"domain="+b+";":"")},clear:function(){var a=document.cookie.match(new RegExp("([^ ;][^;]*)(?=(=[^;]*)(;|$))","gi"));for(var b in a)document.cookie=a[b]+"=;expires=Mon, 26 Jul 1997 05:00:00 GMT; path=/; "},uin:function(){var a=this.get("uin");return a?parseInt(a.substring(1,a.length),10):null}};return a.cookie=b,a.reset_own_cookie=function(){a.cookie=b},b}),function(a,b){"function"==typeof define&&define.amd?define("util.bom",["jquery"],b):a.Bom=b(a.jQuery)}(this,function(a){var b={query:function(a){var b=window.location.search.match(new RegExp("(\\?|&)"+a+"=([^&]*)(&|$)"));return b?decodeURIComponent(b[2]):""},getHash:function(a){var b=window.location.hash.match(new RegExp("(#|&)"+a+"=([^&]*)(&|$)"));return b?decodeURIComponent(b[2]):""},checkPlatform:function(){var b=navigator.platform,c=!b||"Win32"===b||"Win64"===b||"Windows"===b;return c||(a.Dialog.alert("请通过电脑登录Windows系统，再访问该页面。"),Badjs("非windows pc, ua="+navigator.userAgent+", platform="+navigator.platform,location.href,0,410018,2)),c}};return a.bom=b,b}),function(a,b){"function"==typeof define&&define.amd?define("util.str",["jquery"],b):a.jQuery=b(a.jQuery)}(this,function(a){return a.extend({str:{byteLen:function(a,b){var c=b||2;a+="";var d=a.match(/[^\x00-\xff]/g)||[],e=d.length;return a.length+(c-1)*e},cut:function(b,c){for(var d=a(b);d.outerHeight()>c;)d.text(d.text().replace(/(\s)*([a-zA-Z0-9]+|\W)(\.\.\.)?$/,"..."))},cutByte:function(a,b,c){function d(a){var b=a/2|0;return b>0?b:1}var b=+b,c="undefined"==typeof c?"...":c.toString(),e=this.byteLen(c);if(!(a+"").length||!b||0>=b)return"";e>b&&(c="",e=0);for(var f=b-e,g=0,h=0;f>=h;){var i=d(f-h),j=this.byteLen(a.substr(g,i));if(0==j)return a;h+=j,g+=i}return a.length-g>e||this.byteLen(a.substring(g-1))>e?a.substr(0,g-1)+c:a}}}),a}),function(a,b){"function"==typeof define&&define.amd?define("jquery.lazyload",["jquery","util.cookie"],b):b(a.jQuery)}(this,function(a,b){var c=function(a,b){var c=b.data("data-first-date"),d=b[0].src;if(d.match(/\/qqcourse_logo(?:_rn)?\//)&&c){c=new Date-c,0>c&&(c=0),c+=1;var f,g=new Image,h=b.data("data-isSupportedWebP"),i=["http://isdspeed.qq.com/cgi-bin/r.cgi?flag1=7832&flag2=39&flag3=63"];if(window.localStorage&&window.JSON){var j;if(d&&(j=d.match(/(?:\/)([^\/]+)\/*(?:\d+)/))&&(j=j[1])){f=0;var k=localStorage.getItem("EDU_ISLOAD_IMG");k?(k=JSON.parse(k),k[j]&&(f=1)):k={},k[j]=1;try{localStorage.setItem("EDU_ISLOAD_IMG",JSON.stringify(k))}catch(a){Badjs("写localStorage异常",location.href,0,507221,2)}}}h?(i.push("2="+c),isNaN(f)||(f?i.push("4="+c):i.push("5="+c),i.push("6="+c))):(i.push("1="+c),isNaN(f)||(f?i.push("7="+c):i.push("8="+c),i.push("9="+c))),window.performance&&window.performance.getEntriesByName&&e(d,h),i.push("3="+c),g.src=i.join("&")}},d={redirectStart:3,redirectEnd:4,fetchStart:5,domainLookupStart:6,domainLookupEnd:7,connectStart:8,connectEnd:9,requestStart:10,responseStart:11,responseEnd:12},e=function(a,b){if(a&&window.performance&&performance.getEntriesByName){var c=window.performance.getEntriesByName(a);if(c&&c.length){var e=c[0],f=e.startTime;if(f){var g=[];for(var h in d)if(e[h]){var i=e[h]-f;if("redirectStart"!=h&&"redirectEnd"!=h&&0>i)continue;g.push(d[h]+"="+Math.floor(Math.abs(i)))}g.push("20="+(Math.floor(Math.abs(e.duration))||0)),g.push("21="+Math.floor(f));var a="http://isdspeed.qq.com/cgi-bin/r.cgi?flag1=7832&flag2=39&flag3="+(b?"64":"65")+"&"+g.join("&");(new Image).src=a}}}};a.fn.loadWebP=function(){var b,d=a.cookie.get("iswebp")||"",e=[],f=!1,g=function(){for(var a=0,c=e.length;c>a;a++)e[a](b);e=[]},h=function(c){if(d&&(b="1"===d),void 0===b){if(e.push(c),!f){f=!0;var h={basic:"data:image/webp;base64,UklGRjIAAABXRUJQVlA4ICYAAACyAgCdASoCAAEALmk0mk0iIiIiIgBoSygABc6zbAAA/v56QAAAAA=="},i=new Image;i.onload=function(){b=2===this.width&&1===this.height,f=!1,a.cookie.set("iswebp",+b),g()},i.onerror=function(){b=!1,f=!1,a.cookie.set("iswebp",+b),g()},i.src=h.basic}}else c(b)},i=Object.prototype.toString;return function(b,d){switch(i.call(b)){case"[object Object]":b=b||{},d=d||b.callback||function(){};break;case"[object Function]":d=b||function(){},b={};break;default:return this}return this.each(function(e,f){var g=b.srcSign||"lazy-src",i=a(f),j=i.attr(g);if(j){var k=b.desSign||"lazy-src";h(function(a){if(a&&(j+=(-1!=j.indexOf("?")?"&":"?")+"tp=webp",i.data("data-isSupportedWebP",!0)),"src"===k){var b=+new Date;i.data("data-first-date",b),i[0].onload=function(a){c(a,i)}}i.attr(k,j),d(a)})}})}}(),a.fn.lazyload=function(b){return this.each(function(){b=b||{};var d={},e=a.extend({},d,b),f=a(this),g=this,h=b.srcSign||"lazy-src",i=b.errCallBack||function(){},j=b.container||a(window),k=function(a,b){c(a,b)},l=function(a,b,c,d){if(!b[0].src||!(b[0].src.indexOf("img-err.png")>0||b[0].src.indexOf("img-err2.png")>0)){var e=b.width(),f=b.height();e/f==1?b[0].src="http://9.url.cn/edu/common/img/src/img-err.png":b[0].src="http://9.url.cn/edu/common/img/src/img-err2.png",c(),Badjs("lazyload拉取图片失败上报",location.href,0,414342,2)}},m=function(a){var b=a.width(),c=a.height();a.offset().top,a.offset().left;b/c==1?a[0].src="http://9.url.cn/edu/common/img/src/img-loading.png":a[0].src="http://9.url.cn/edu/common/img/src/img-loading2.png"},n=function(a,b,c){a.attr("src")||(m(a),a.loadWebP(function(d){var e=a.attr(b),f=+new Date;a.data("data-first-date",f),a[0].onerror=function(b){l(b,a,c,e)},a[0].onload=function(b){k(b,a)},a[0].src=e}))};if(e.cache=[],"IMG"==g.tagName){var o={obj:f,tag:"img",url:f.attr(h)};e.cache.push(o)}else{var p=f.find("img");p.each(function(b){var c=this.nodeName.toLowerCase(),d=a(this).attr(h),f={obj:p.eq(b),tag:c,url:d};e.cache.push(f)})}var q=function(){var b,c=j.height();b=a(window).get(0)===window?a(window).scrollTop():j.offset().top,a.each(e.cache,function(a,d){var e,f,g=d.obj,j=d.tag,k=d.url;g&&(e=g.offset().top-b,postb=e+g.height(),(e>=0&&c>e||f>0&&c>=f)&&(k&&"img"===j&&n(g,h,i),d.obj=null))})};q(),j.bind("scroll",q),j.bind("resize",q)})}}),function(a,b){"function"==typeof define&&define.amd?define("jquery.slider",["jquery"],b):b(a.jQuery)}(this,function(a){a.fn.slider=function(b){return this.each(function(){function c(){n.unbind("click").bind("click",function(){var a=j;j-=1,-1==j&&(j=r?m-1:0),r||e(),d(a,j,"prev")}),o.unbind("click").bind("click",function(){f()})}function d(a,b,d){var e=(i.height(),i.width());if(l.removeClass("current").eq(b).addClass("current"),u.removeClass("current").eq(b).addClass("current"),"left"==h.handle){l.css("float","left");var f,g,j,p;0==b&&"next"==d?(p=i.find("li").eq(0).clone().addClass("li-temp").appendTo(k),g=(m+1)*e,f=-e*m,j=function(){k.css({left:0}),i.find(".li-temp").remove(),c()}):b==m-1&&"prev"==d?(p=i.find("li").eq(m-1).clone().addClass("li-temp").insertBefore(i.find("li").eq(0)),k.css({left:-e}),g=(m+1)*e,f=0,j=function(){k.css({left:-e*b}),i.find(".li-temp").remove(),c()}):(p=i.find("li").eq(b),g=m*e,k.css("width",g),f=-e*b,j=function(){c()}),n.unbind("click"),o.unbind("click"),"fade"==h.type?(k.css("width",g).filter(":not(':animated')").css({left:f}),p.css("opacity",0).animate({opacity:1},h.speed,j)):k.css("width",g).filter(":not(':animated')").animate({left:f},h.speed,j),s(b,v),v=b}else"right"==h.handle}function e(){1>j?n.addClass("dis-btn"):n.removeClass("dis-btn"),j>=m-1?o.addClass("dis-btn"):o.removeClass("dis-btn")}function f(){var a=j;(r||j!=m-1)&&(j=(j+1)%m,r||e(),d(a,j,"next"))}for(var g={type:"slide",handle:"left",speed:600,sliderNum:1,delayTime:5e3},h=a.extend({},g,b),i=a(this),j=0,k=h.sliderbox,l=k.find("li"),m=(a(".sliderbox li:eq(0)").outerWidth(),l.length,l.length/h.sliderNum),m=Math.ceil(m),n=h.pb,o=h.nb,p="",q=h.slidernav||a(".slidernav",i),r=h.isAuto||!1,s=h.slideCb||function(){},t=0;m>t;t++)p+='<li><a href="javascript:void(0);">'+(t+1)+"</a></li>";h.sliderNum>1&&l.css("float","left");var u=q.find("li");u.eq(0).addClass("current"),l.eq(0).addClass("current");var v=0,w="fade"==h.type?"mouseenter":"click";if(u.bind(w,function(){j=a(this).index();var b=u.index(a(".slidernav .current:eq(0)"));j!=b&&d(b,j)}).eq(0).trigger(w),1>=m?(n.hide(),o.hide()):c(),r){var x;i.hover(function(){clearInterval(x),m>0&&(n.show(),o.show())},function(){m>0&&(n.hide(),o.hide()),x=setInterval(function(){f()},h.delayTime)}).trigger("mouseleave")}})}}),function(a,b){"function"==typeof define&&define.amd?define("qrcode",[],b):a.QRCode=b()}(this,function(){var a;return function(){function b(a){this.mode=k.MODE_8BIT_BYTE,this.data=a,this.parsedData=[];for(var b=0,c=this.data.length;c>b;b++){var d=[],e=this.data.charCodeAt(b);e>65536?(d[0]=240|(1835008&e)>>>18,d[1]=128|(258048&e)>>>12,d[2]=128|(4032&e)>>>6,d[3]=128|63&e):e>2048?(d[0]=224|(61440&e)>>>12,d[1]=128|(4032&e)>>>6,d[2]=128|63&e):e>128?(d[0]=192|(1984&e)>>>6,d[1]=128|63&e):d[0]=e,this.parsedData.push(d)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}function c(a,b){this.typeNumber=a,this.errorCorrectLevel=b,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}function d(a,b){if(void 0==a.length)throw new Error(a.length+"/"+b);for(var c=0;c<a.length&&0==a[c];)c++;this.num=new Array(a.length-c+b);for(var d=0;d<a.length-c;d++)this.num[d]=a[d+c]}function e(a,b){this.totalCount=a,this.dataCount=b}function f(){this.buffer=[],this.length=0}function g(){return"undefined"!=typeof CanvasRenderingContext2D}function h(){var a=!1,b=navigator.userAgent;return/android/i.test(b)&&(a=!0,aMat=b.toString().match(/android ([0-9]\.[0-9])/i),aMat&&aMat[1]&&(a=parseFloat(aMat[1]))),a}function i(a,b){for(var c=1,d=j(a),e=0,f=q.length;f>=e;e++){var g=0;switch(b){case l.L:g=q[e][0];break;case l.M:g=q[e][1];break;case l.Q:g=q[e][2];break;case l.H:g=q[e][3]}if(g>=d)break;c++}if(c>q.length)throw new Error("Too long data");return c}function j(a){var b=encodeURI(a).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return b.length+(b.length!=a?3:0)}b.prototype={getLength:function(a){return this.parsedData.length},write:function(a){for(var b=0,c=this.parsedData.length;c>b;b++)a.put(this.parsedData[b],8)}},c.prototype={addData:function(a){var c=new b(a);this.dataList.push(c),this.dataCache=null},isDark:function(a,b){if(0>a||this.moduleCount<=a||0>b||this.moduleCount<=b)throw new Error(a+","+b);return this.modules[a][b]},getModuleCount:function(){return this.moduleCount},make:function(){this.makeImpl(!1,this.getBestMaskPattern())},makeImpl:function(a,b){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++){this.modules[d]=new Array(this.moduleCount);for(var e=0;e<this.moduleCount;e++)this.modules[d][e]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(a,b),this.typeNumber>=7&&this.setupTypeNumber(a),null==this.dataCache&&(this.dataCache=c.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,b)},setupPositionProbePattern:function(a,b){for(var c=-1;7>=c;c++)if(!(-1>=a+c||this.moduleCount<=a+c))for(var d=-1;7>=d;d++)-1>=b+d||this.moduleCount<=b+d||(c>=0&&6>=c&&(0==d||6==d)||d>=0&&6>=d&&(0==c||6==c)||c>=2&&4>=c&&d>=2&&4>=d?this.modules[a+c][b+d]=!0:this.modules[a+c][b+d]=!1)},getBestMaskPattern:function(){for(var a=0,b=0,c=0;8>c;c++){this.makeImpl(!0,c);var d=n.getLostPoint(this);(0==c||a>d)&&(a=d,b=c)}return b},createMovieClip:function(a,b,c){var d=a.createEmptyMovieClip(b,c),e=1;this.make();for(var f=0;f<this.modules.length;f++)for(var g=f*e,h=0;h<this.modules[f].length;h++){var i=h*e,j=this.modules[f][h];j&&(d.beginFill(0,100),d.moveTo(i,g),d.lineTo(i+e,g),d.lineTo(i+e,g+e),d.lineTo(i,g+e),d.endFill())}return d},setupTimingPattern:function(){for(var a=8;a<this.moduleCount-8;a++)null==this.modules[a][6]&&(this.modules[a][6]=a%2==0);for(var b=8;b<this.moduleCount-8;b++)null==this.modules[6][b]&&(this.modules[6][b]=b%2==0)},setupPositionAdjustPattern:function(){for(var a=n.getPatternPosition(this.typeNumber),b=0;b<a.length;b++)for(var c=0;c<a.length;c++){var d=a[b],e=a[c];if(null==this.modules[d][e])for(var f=-2;2>=f;f++)for(var g=-2;2>=g;g++)-2==f||2==f||-2==g||2==g||0==f&&0==g?this.modules[d+f][e+g]=!0:this.modules[d+f][e+g]=!1}},setupTypeNumber:function(a){for(var b=n.getBCHTypeNumber(this.typeNumber),c=0;18>c;c++){var d=!a&&1==(b>>c&1);this.modules[Math.floor(c/3)][c%3+this.moduleCount-8-3]=d}for(var c=0;18>c;c++){var d=!a&&1==(b>>c&1);this.modules[c%3+this.moduleCount-8-3][Math.floor(c/3)]=d}},setupTypeInfo:function(a,b){for(var c=this.errorCorrectLevel<<3|b,d=n.getBCHTypeInfo(c),e=0;15>e;e++){var f=!a&&1==(d>>e&1);6>e?this.modules[e][8]=f:8>e?this.modules[e+1][8]=f:this.modules[this.moduleCount-15+e][8]=f}for(var e=0;15>e;e++){var f=!a&&1==(d>>e&1);8>e?this.modules[8][this.moduleCount-e-1]=f:9>e?this.modules[8][15-e-1+1]=f:this.modules[8][15-e-1]=f}this.modules[this.moduleCount-8][8]=!a},mapData:function(a,b){for(var c=-1,d=this.moduleCount-1,e=7,f=0,g=this.moduleCount-1;g>0;g-=2)for(6==g&&g--;;){for(var h=0;2>h;h++)if(null==this.modules[d][g-h]){var i=!1;f<a.length&&(i=1==(a[f]>>>e&1));var j=n.getMask(b,d,g-h);j&&(i=!i),this.modules[d][g-h]=i,e--,-1==e&&(f++,e=7)}if(d+=c,0>d||this.moduleCount<=d){d-=c,c=-c;break}}}},c.PAD0=236,c.PAD1=17,c.createData=function(a,b,d){for(var g=e.getRSBlocks(a,b),h=new f,i=0;i<d.length;i++){var j=d[i];h.put(j.mode,4),h.put(j.getLength(),n.getLengthInBits(j.mode,a)),j.write(h)}for(var k=0,i=0;i<g.length;i++)k+=g[i].dataCount;if(h.getLengthInBits()>8*k)throw new Error("code length overflow. ("+h.getLengthInBits()+">"+8*k+")");for(h.getLengthInBits()+4<=8*k&&h.put(0,4);h.getLengthInBits()%8!=0;)h.putBit(!1);for(;;){if(h.getLengthInBits()>=8*k)break;if(h.put(c.PAD0,8),h.getLengthInBits()>=8*k)break;h.put(c.PAD1,8)}return c.createBytes(h,g)},c.createBytes=function(a,b){for(var c=0,e=0,f=0,g=new Array(b.length),h=new Array(b.length),i=0;i<b.length;i++){var j=b[i].dataCount,k=b[i].totalCount-j;e=Math.max(e,j),f=Math.max(f,k),g[i]=new Array(j);for(var l=0;l<g[i].length;l++)g[i][l]=255&a.buffer[l+c];c+=j;var m=n.getErrorCorrectPolynomial(k),o=new d(g[i],m.getLength()-1),p=o.mod(m);h[i]=new Array(m.getLength()-1);for(var l=0;l<h[i].length;l++){var q=l+p.getLength()-h[i].length;h[i][l]=q>=0?p.get(q):0}}for(var r=0,l=0;l<b.length;l++)r+=b[l].totalCount;for(var s=new Array(r),t=0,l=0;e>l;l++)for(var i=0;i<b.length;i++)l<g[i].length&&(s[t++]=g[i][l]);for(var l=0;f>l;l++)for(var i=0;i<b.length;i++)l<h[i].length&&(s[t++]=h[i][l]);return s};for(var k={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},l={L:1,M:0,Q:3,H:2},m={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},n={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(a){for(var b=a<<10;n.getBCHDigit(b)-n.getBCHDigit(n.G15)>=0;)b^=n.G15<<n.getBCHDigit(b)-n.getBCHDigit(n.G15);return(a<<10|b)^n.G15_MASK},getBCHTypeNumber:function(a){for(var b=a<<12;n.getBCHDigit(b)-n.getBCHDigit(n.G18)>=0;)b^=n.G18<<n.getBCHDigit(b)-n.getBCHDigit(n.G18);return a<<12|b},getBCHDigit:function(a){for(var b=0;0!=a;)b++,a>>>=1;return b},getPatternPosition:function(a){return n.PATTERN_POSITION_TABLE[a-1]},getMask:function(a,b,c){switch(a){case m.PATTERN000:return(b+c)%2==0;case m.PATTERN001:return b%2==0;case m.PATTERN010:return c%3==0;case m.PATTERN011:return(b+c)%3==0;case m.PATTERN100:return(Math.floor(b/2)+Math.floor(c/3))%2==0;case m.PATTERN101:return b*c%2+b*c%3==0;case m.PATTERN110:return(b*c%2+b*c%3)%2==0;case m.PATTERN111:return(b*c%3+(b+c)%2)%2==0;default:throw new Error("bad maskPattern:"+a)}},getErrorCorrectPolynomial:function(a){for(var b=new d([1],0),c=0;a>c;c++)b=b.multiply(new d([1,o.gexp(c)],0));return b},getLengthInBits:function(a,b){if(b>=1&&10>b)switch(a){case k.MODE_NUMBER:return 10;case k.MODE_ALPHA_NUM:return 9;case k.MODE_8BIT_BYTE:return 8;case k.MODE_KANJI:return 8;default:throw new Error("mode:"+a)}else if(27>b)switch(a){case k.MODE_NUMBER:return 12;case k.MODE_ALPHA_NUM:return 11;case k.MODE_8BIT_BYTE:return 16;case k.MODE_KANJI:return 10;default:throw new Error("mode:"+a)}else{if(!(41>b))throw new Error("type:"+b);switch(a){case k.MODE_NUMBER:return 14;case k.MODE_ALPHA_NUM:return 13;case k.MODE_8BIT_BYTE:return 16;case k.MODE_KANJI:return 12;default:throw new Error("mode:"+a)}}},getLostPoint:function(a){for(var b=a.getModuleCount(),c=0,d=0;b>d;d++)for(var e=0;b>e;e++){for(var f=0,g=a.isDark(d,e),h=-1;1>=h;h++)if(!(0>d+h||d+h>=b))for(var i=-1;1>=i;i++)0>e+i||e+i>=b||(0!=h||0!=i)&&g==a.isDark(d+h,e+i)&&f++;f>5&&(c+=3+f-5)}for(var d=0;b-1>d;d++)for(var e=0;b-1>e;e++){var j=0;a.isDark(d,e)&&j++,a.isDark(d+1,e)&&j++,a.isDark(d,e+1)&&j++,a.isDark(d+1,e+1)&&j++,(0==j||4==j)&&(c+=3)}for(var d=0;b>d;d++)for(var e=0;b-6>e;e++)a.isDark(d,e)&&!a.isDark(d,e+1)&&a.isDark(d,e+2)&&a.isDark(d,e+3)&&a.isDark(d,e+4)&&!a.isDark(d,e+5)&&a.isDark(d,e+6)&&(c+=40);for(var e=0;b>e;e++)for(var d=0;b-6>d;d++)a.isDark(d,e)&&!a.isDark(d+1,e)&&a.isDark(d+2,e)&&a.isDark(d+3,e)&&a.isDark(d+4,e)&&!a.isDark(d+5,e)&&a.isDark(d+6,e)&&(c+=40);for(var k=0,e=0;b>e;e++)for(var d=0;b>d;d++)a.isDark(d,e)&&k++;var l=Math.abs(100*k/b/b-50)/5;return c+=10*l}},o={glog:function(a){if(1>a)throw new Error("glog("+a+")");return o.LOG_TABLE[a]},gexp:function(a){for(;0>a;)a+=255;for(;a>=256;)a-=255;return o.EXP_TABLE[a]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},p=0;8>p;p++)o.EXP_TABLE[p]=1<<p;for(var p=8;256>p;p++)o.EXP_TABLE[p]=o.EXP_TABLE[p-4]^o.EXP_TABLE[p-5]^o.EXP_TABLE[p-6]^o.EXP_TABLE[p-8];for(var p=0;255>p;p++)o.LOG_TABLE[o.EXP_TABLE[p]]=p;d.prototype={get:function(a){return this.num[a]},getLength:function(){return this.num.length},multiply:function(a){for(var b=new Array(this.getLength()+a.getLength()-1),c=0;c<this.getLength();c++)for(var e=0;e<a.getLength();e++)b[c+e]^=o.gexp(o.glog(this.get(c))+o.glog(a.get(e)));return new d(b,0)},mod:function(a){if(this.getLength()-a.getLength()<0)return this;for(var b=o.glog(this.get(0))-o.glog(a.get(0)),c=new Array(this.getLength()),e=0;e<this.getLength();e++)c[e]=this.get(e);for(var e=0;e<a.getLength();e++)c[e]^=o.gexp(o.glog(a.get(e))+b);return new d(c,0).mod(a)}},e.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],e.getRSBlocks=function(a,b){var c=e.getRsBlockTable(a,b);if(void 0==c)throw new Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+b);for(var d=c.length/3,f=[],g=0;d>g;g++)for(var h=c[3*g+0],i=c[3*g+1],j=c[3*g+2],k=0;h>k;k++)f.push(new e(i,j));return f},e.getRsBlockTable=function(a,b){switch(b){case l.L:return e.RS_BLOCK_TABLE[4*(a-1)+0];case l.M:return e.RS_BLOCK_TABLE[4*(a-1)+1];case l.Q:return e.RS_BLOCK_TABLE[4*(a-1)+2];case l.H:return e.RS_BLOCK_TABLE[4*(a-1)+3];default:return void 0}},f.prototype={get:function(a){var b=Math.floor(a/8);return 1==(this.buffer[b]>>>7-a%8&1)},put:function(a,b){for(var c=0;b>c;c++)this.putBit(1==(a>>>b-c-1&1))},getLengthInBits:function(){return this.length},putBit:function(a){var b=Math.floor(this.length/8);this.buffer.length<=b&&this.buffer.push(0),a&&(this.buffer[b]|=128>>>this.length%8),this.length++}};var q=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]],r=function(){var a=function(a,b){this._el=a,this._htOption=b};return a.prototype.draw=function(a){function b(a,b){var c=document.createElementNS("http://www.w3.org/2000/svg",a);for(var d in b)b.hasOwnProperty(d)&&c.setAttribute(d,b[d]);return c}var c=this._htOption,d=this._el,e=a.getModuleCount();Math.floor(c.width/e),Math.floor(c.height/e);this.clear();var f=b("svg",{viewBox:"0 0 "+String(e)+" "+String(e),width:"100%",height:"100%",fill:c.colorLight});f.setAttributeNS("http://www.w3.org/2000/xmlns/","xmlns:xlink","http://www.w3.org/1999/xlink"),d.appendChild(f),f.appendChild(b("rect",{fill:c.colorDark,width:"1",height:"1",id:"template"}));for(var g=0;e>g;g++)for(var h=0;e>h;h++)if(a.isDark(g,h)){var i=b("use",{x:String(g),y:String(h)});i.setAttributeNS("http://www.w3.org/1999/xlink","href","#template"),f.appendChild(i)}},a.prototype.clear=function(){for(;this._el.hasChildNodes();)this._el.removeChild(this._el.lastChild)},a}(),s="svg"===document.documentElement.tagName.toLowerCase(),t=s?r:g()?function(){function a(){this._elImage.src=this._elCanvas.toDataURL("image/png"),this._elImage.style.display="block",this._elCanvas.style.display="none"}function b(a,b){var c=this;if(c._fFail=b,c._fSuccess=a,null===c._bSupportDataURI){var d=document.createElement("img"),e=function(){c._bSupportDataURI=!1,c._fFail&&_fFail.call(c)},f=function(){
c._bSupportDataURI=!0,c._fSuccess&&c._fSuccess.call(c)};return d.onabort=e,d.onerror=e,d.onload=f,void(d.src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg==")}c._bSupportDataURI===!0&&c._fSuccess?c._fSuccess.call(c):c._bSupportDataURI===!1&&c._fFail&&c._fFail.call(c)}if(this._android&&this._android<=2.1){var c=1/window.devicePixelRatio,d=CanvasRenderingContext2D.prototype.drawImage;CanvasRenderingContext2D.prototype.drawImage=function(a,b,e,f,g,h,i,j,k){if("nodeName"in a&&/img/i.test(a.nodeName))for(var l=arguments.length-1;l>=1;l--)arguments[l]=arguments[l]*c;else"undefined"==typeof j&&(arguments[1]*=c,arguments[2]*=c,arguments[3]*=c,arguments[4]*=c);d.apply(this,arguments)}}var e=function(a,b){this._bIsPainted=!1,this._android=h(),this._htOption=b,this._elCanvas=document.createElement("canvas"),this._elCanvas.width=b.width,this._elCanvas.height=b.height,a.appendChild(this._elCanvas),this._el=a,this._oContext=this._elCanvas.getContext("2d"),this._bIsPainted=!1,this._elImage=document.createElement("img"),this._elImage.alt="Scan me!",this._elImage.style.display="none",this._el.appendChild(this._elImage),this._bSupportDataURI=null};return e.prototype.draw=function(a){var b=this._elImage,c=this._oContext,d=this._htOption,e=a.getModuleCount(),f=d.width/e,g=d.height/e,h=Math.round(f),i=Math.round(g);b.style.display="none",this.clear();for(var j=0;e>j;j++)for(var k=0;e>k;k++){var l=a.isDark(j,k),m=k*f,n=j*g;c.strokeStyle=l?d.colorDark:d.colorLight,c.lineWidth=1,c.fillStyle=l?d.colorDark:d.colorLight,c.fillRect(m,n,f,g),c.strokeRect(Math.floor(m)+.5,Math.floor(n)+.5,h,i),c.strokeRect(Math.ceil(m)-.5,Math.ceil(n)-.5,h,i)}this._bIsPainted=!0},e.prototype.makeImage=function(){this._bIsPainted&&b.call(this,a)},e.prototype.isPainted=function(){return this._bIsPainted},e.prototype.clear=function(){this._oContext.clearRect(0,0,this._elCanvas.width,this._elCanvas.height),this._bIsPainted=!1},e.prototype.round=function(a){return a?Math.floor(1e3*a)/1e3:a},e}():function(){var a=function(a,b){this._el=a,this._htOption=b};return a.prototype.draw=function(a){for(var b=this._htOption,c=this._el,d=a.getModuleCount(),e=Math.floor(b.width/d),f=Math.floor(b.height/d),g=['<table style="border:0;border-collapse:collapse;">'],h=0;d>h;h++){g.push("<tr>");for(var i=0;d>i;i++)g.push('<td style="border:0;border-collapse:collapse;padding:0;margin:0;width:'+e+"px;height:"+f+"px;background-color:"+(a.isDark(h,i)?b.colorDark:b.colorLight)+';"></td>');g.push("</tr>")}g.push("</table>"),c.innerHTML=g.join("");var j=c.childNodes[0],k=(b.width-j.offsetWidth)/2,l=(b.height-j.offsetHeight)/2;k>0&&l>0&&(j.style.margin=l+"px "+k+"px")},a.prototype.clear=function(){this._el.innerHTML=""},a}();a=function(a,b){if(this._htOption={width:256,height:256,typeNumber:4,colorDark:"#000000",colorLight:"#ffffff",correctLevel:l.H},"string"==typeof b&&(b={text:b}),b)for(var c in b)this._htOption[c]=b[c];"string"==typeof a&&(a=document.getElementById(a)),this._android=h(),this._el=a,this._oQRCode=null,this._oDrawing=new t(this._el,this._htOption),this._htOption.text&&this.makeCode(this._htOption.text)},a.prototype.makeCode=function(a){this._oQRCode=new c(i(a,this._htOption.correctLevel),this._htOption.correctLevel),this._oQRCode.addData(a),this._oQRCode.make(),this._el.title=a,this._oDrawing.draw(this._oQRCode),this.makeImage()},a.prototype.makeImage=function(){"function"==typeof this._oDrawing.makeImage&&(!this._android||this._android>=3)&&this._oDrawing.makeImage()},a.prototype.clear=function(){this._oDrawing.clear()},a.CorrectLevel=l}(),a}),function(a,b){"function"==typeof define&&define.amd?define("jquery.share",["jquery","qrcode"],b):b(a.jQuery)}(this,function(a,b){a.fn.share=function(c){return this.each(function(){function d(a){if("weixin"===a)e();else{var b=g[a].api,c=[];for(var d in g[a].paramName){var f=g[a].paramName[d];f&&c.push(f+"="+encodeURIComponent(j[d]))}b+=c.join("&"),window.open(b)}}function e(){var a='<div class="mask"></div><div class="qrcode-container"><div class="qrcode-top"></div><div class="qrcode-center"><div class="qc-center"><div id="rqcode"></div><i class="icon-font i-logo"></i></div><div class="qc-bottom">打开微信，通过点击底部"发现"按钮，"扫一扫"二维码后，点击弹出页面右上角的分享按钮，就可以分享给朋友们啦！</div></div><div class="qrcode-bottom"></div></div>',c=document.createElement("div");c.id="qrcodeWrap",c.innerHTML=a,document.body.appendChild(c);var d=window.location.href,e=function(){new b("rqcode",{text:d+(~d.indexOf("?")?"&":"?")+"from=share_wexin_code_scan",width:190,height:190,colorDark:"#000000",colorLight:"#ffffff",correctLevel:b.CorrectLevel.H})};c.onclick=function(){document.body.removeChild(this)},e()}for(var f={},g={qzone:{api:"http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?",paramName:{url:"url",title:"title",content:"desc",pic:"pics",summary:"summary",appkey:""}},qq:{api:"http://connect.qq.com/widget/shareqq/index.html?",paramName:{url:"url",title:"title",content:"desc",pic:"pics",summary:"summary",appkey:""}},qqWeibo:{api:"http://share.v.t.qq.com/index.php?c=share&a=index",paramName:{url:"url",title:"",content:"title",pic:"pic",summary:"",appkey:"appkey"}},sinaWeibo:{api:"http://service.weibo.com/share/share.php?",paramName:{url:"url",title:"",content:"title",pic:"pic",summary:"",appkey:"appkey"}},renren:{api:"http://widget.renren.com/dialog/share?",paramName:{url:"resourceUrl",title:"title",content:"",pic:"pic",summary:"description",appkey:""}}},h=a.extend({},f,c),i=a(this),j={title:h.title,url:h.url,content:h.content,pic:h.pic,summary:h.summary,appkey:h.appkey},k=i.find("*[data-to]"),l=0,m=k.length;m>l;l++)a(k[l]).click(function(){var b=a(this).attr("data-to");d(b)})})}}),function(a,b){"object"==typeof exports?module.exports=b():"function"==typeof define&&define.amd?define("spinner",[],b):a.Spinner=b()}(this,function(){"use strict";function a(a,b){var c,d=document.createElement(a||"div");for(c in b)d[c]=b[c];return d}function b(a){for(var b=1,c=arguments.length;c>b;b++)a.appendChild(arguments[b]);return a}function c(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-"),f=.01+c/d*100,g=Math.max(1-(1-a)/b*(100-f),a),h=k.substring(0,k.indexOf("Animation")).toLowerCase(),i=h&&"-"+h+"-"||"";return m[e]||(n.insertRule("@"+i+"keyframes "+e+"{0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}100%{opacity:"+g+"}}",n.cssRules.length),m[e]=1),e}function d(a,b){var c,d,e=a.style;for(b=b.charAt(0).toUpperCase()+b.slice(1),d=0;d<l.length;d++)if(c=l[d]+b,void 0!==e[c])return c;return void 0!==e[b]?b:void 0}function e(a,b){for(var c in b)a.style[d(a,c)||c]=b[c];return a}function f(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)void 0===a[d]&&(a[d]=c[d])}return a}function g(a){for(var b={x:a.offsetLeft,y:a.offsetTop};a=a.offsetParent;)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b}function h(a,b){return"string"==typeof a?a:a[b%a.length]}function i(a){return"undefined"==typeof this?new i(a):void(this.opts=f(a||{},i.defaults,o))}function j(){function c(b,c){return a("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',c)}n.addRule(".spin-vml","behavior:url(#default#VML)"),i.prototype.lines=function(a,d){function f(){return e(c("group",{coordsize:k+" "+k,coordorigin:-j+" "+-j}),{width:k,height:k})}function g(a,g,i){b(m,b(e(f(),{rotation:360/d.lines*a+"deg",left:~~g}),b(e(c("roundrect",{arcsize:d.corners}),{width:j,height:d.width,left:d.radius,top:-d.width>>1,filter:i}),c("fill",{color:h(d.color,a),opacity:d.opacity}),c("stroke",{opacity:0}))))}var i,j=d.length+d.width,k=2*j,l=2*-(d.width+d.length)+"px",m=e(f(),{position:"absolute",top:l,left:l});if(d.shadow)for(i=1;i<=d.lines;i++)g(i,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(i=1;i<=d.lines;i++)g(i);return b(a,m)},i.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,e=e&&e.firstChild,e&&(e.opacity=c))}}var k,l=["webkit","Moz","ms","O"],m={},n=function(){var c=a("style",{type:"text/css"});return b(document.getElementsByTagName("head")[0],c),c.sheet||c.styleSheet}(),o={lines:12,length:6,width:4,radius:10,rotate:0,corners:1,color:"#929598",direction:1,speed:1,trail:60,opacity:.25,fps:20,zIndex:999,className:"spinner",top:"auto",left:"auto",position:"relative"};i.defaults={},f(i.prototype,{spin:function(b){this.stop();var c,d,f=this,h=f.opts,i=f.el=e(a(0,{className:h.className}),{position:h.position,width:0,zIndex:h.zIndex}),j=h.radius+h.length+h.width;if(b&&(b.insertBefore(i,b.firstChild||null),d=g(b),c=g(i),e(i,{left:("auto"==h.left?d.x-c.x+(b.offsetWidth>>1):parseInt(h.left,10)+j)+"px",top:("auto"==h.top?d.y-c.y+(b.offsetHeight>>1):parseInt(h.top,10)+j)+"px"})),i.setAttribute("role","progressbar"),f.lines(i,f.opts),!k){var l,m=0,n=(h.lines-1)*(1-h.direction)/2,o=h.fps,p=o/h.speed,q=(1-h.opacity)/(p*h.trail/100),r=p/h.lines;!function s(){m++;for(var a=0;a<h.lines;a++)l=Math.max(1-(m+(h.lines-a)*r)%p*q,h.opacity),f.opacity(i,a*h.direction+n,l,h);f.timeout=f.el&&setTimeout(s,~~(1e3/o))}()}return f},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=void 0),this},lines:function(d,f){function g(b,c){return e(a(),{position:"absolute",width:f.length+f.width+"px",height:f.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/f.lines*j+f.rotate)+"deg) translate("+f.radius+"px,0)",borderRadius:(f.corners*f.width>>1)+"px"})}for(var i,j=0,l=(f.lines-1)*(1-f.direction)/2;j<f.lines;j++)i=e(a(),{position:"absolute",top:1+~(f.width/2)+"px",transform:f.hwaccel?"translate3d(0,0,0)":"",opacity:f.opacity,animation:k&&c(f.opacity,f.trail,l+j*f.direction,f.lines)+" "+1/f.speed+"s linear infinite"}),f.shadow&&b(i,e(g("#000","0 0 4px #000"),{top:"2px"})),b(d,b(i,g(h(f.color,j),"0 0 1px rgba(0,0,0,.1)")));return d},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});var p=e(a("group"),{behavior:"url(#default#VML)"});return!d(p,"transform")&&p.adj?j():k=d(p,"animation"),i}),function(a){if("object"==typeof exports)a(require("jquery"),require("spin"));else if("function"==typeof define&&define.amd)define("jquery.spin",["jquery","spinner"],a);else{if(!window.Spinner)throw new Error("Spin.js not present");a(window.jQuery,window.Spinner)}}(function(a,b){a.fn.spin=function(c,d){return this.each(function(){var e=a(this),f=e.data();f.spinner&&(f.spinner.stop(),delete f.spinner),c!==!1&&(c=a.extend({color:d||e.css("color")},a.fn.spin.presets[c]||c),f.spinner=new b(c).spin(this))})},a.fn.spin.presets={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}}}),function(a,b){"function"==typeof define&&define.amd?define("html",[],b):a.html=b()}(this,function(){var a=function(){function b(a,b,c){return b||c?String.fromCharCode(b||c):f[a]||a}function c(a){return k[a]}var d=/&quot;|&lt;|&gt;|&amp;|&nbsp;|&apos;|&#(\d+);|&#(\d+)/g,e=/['<> "&]/g,f={"&quot;":'"',"&lt;":"<","&gt;":">","&amp;":"&","&nbsp;":" "},g=/\u00a0/g,h=/<br\s*\/?>/gi,i=/\r?\n/g,j=/\s/g,k={};for(var l in f)k[f[l]]=l;return f["&apos;"]="'",k["'"]="&#39;",{encode:function(a){return a?(""+a).replace(e,c).replace(i,"<br/>").replace(j,"&nbsp;"):""},decode:function(a){return a?(""+a).replace(h,"\n").replace(d,b).replace(g," "):""},encodeBase16:function(a){if(!a)return a;a+="";for(var b=[],c=0,d=a.length;d>c;c++)b.push(a.charCodeAt(c).toString(16).toUpperCase());return b.join("")},encodeBase16forJSON:function(a){if(!a)return a;a=a.replace(/[\u4E00-\u9FBF]/gi,function(a){return escape(a).replace("%u","\\u")});for(var b=[],c=0,d=a.length;d>c;c++)b.push(a.charCodeAt(c).toString(16).toUpperCase());return b.join("")},decodeBase16:function(a){if(!a)return a;a+="";for(var b=[],c=0,d=a.length;d>c;c+=2)b.push(String.fromCharCode("0x"+a.slice(c,c+2)));return b.join("")},encodeObject:function(b){if(b instanceof Array)for(var c=0,d=b.length;d>c;c++)b[c]=a.encodeObject(b[c]);else if("object"==typeof b)for(var e in b)b[e]=a.encodeObject(b[e]);else if("string"==typeof b)return a.encode(b);return b}}}();return a}),function(a,b){"function"==typeof define&&define.amd?define("report",["report"],b):a.report=b(a.report)}(this,function(a){function b(a,b){if(console.table&&window.localStorage&&1==window.localStorage.tdwFlag)for(var c=0,d=b.length;d>c;c++){for(var e={},f=0,g=a.length;g>f;f++)""!=b[c][f]&&(e[a[f]]=b[c][f]);console.table([e])}}function c(){if(i)return i;var a=[],b=10,c=0;return i=function(){var d=c++%b;return a[d]||(a[d]=new Image)}}function d(a,b){if(a){var d=[];if(b)for(var e in b)b[e]&&d.push(e+"="+b[e]);var a=a+d.join("&"),f=document.getElementById("_CHROME_TDW");if(f)f.value=a;else{var g=document.createElement("input");g.setAttribute("type","hidden"),g.value=a,g.id="_CHROME_TDW",document.getElementsByTagName("body")[0].appendChild(g)}return c()().src=a}}a=a||{};var e={TABLE:"dc00149",TIMER:300,DELAY_REPORT:!1,DATA:{}},f=[],g=[];"object"!=typeof JSON&&(JSON={}),"function"!=typeof JSON.stringify&&(JSON.stringify=function(a,b,c){});var h={TDW:"http://cgi.pub.qq.com/report/tdw/report?"},i=null,j=function(a,b,c,f,g){if(a&&b&&c){var i={table:a||e.TABLE,fields:encodeURIComponent(JSON.stringify(b)),datas:encodeURIComponent(JSON.stringify(c)),pr_ip:f||"obj3",pr_t:g||"ts",t:+new Date};d(h.TDW,i)}},k=Object.prototype.toString,l={},m=[],n=[],o=e.TABLE,p=null,q=function(a,b,c){if(!a)throw"params can not be null";b=b||e.DELAY_REPORT,o=c||o;var d;switch(k.call(a)){case"[object Array]":d=a;break;case"[object Object]":if(b){var h=[],i=[];for(var q in a)"obj3"!==q&&"ts"!==q&&(h.push(q),i.push(a[q]));return h=s(h,f),i=t([i],g,h,f),j(o,h,i,a.obj3,a.ts)}d=[a]}for(var q=0,r=d.length;r>q;q++){var u=d[q],v=[];n.push(v);for(var w in u){var x;w in l?(x=l[w],m[x]=w):(m.push(w),l[w]=x=m.length-1),v[x]=u[w]||""}}if(b)this.toreport();else{var y=this;!p&&e.TIMER&&(p=window.setTimeout(function(){y.toreport()},e.TIMER))}},r=function(){f=[],g=[];for(var a in e.DATA){f.push(a);var b=e.DATA[a];g.push(b||0===b?b:"")}return arguments.callee}(),s=function(a,b){for(var c=[],d=0;d<b.length;d++){for(var e=!1,f=0;f<a.length;f++)a[f]===b[d]&&(e=!0);e||c.push(b[d])}return a.concat(c)},t=function(a,b,c,d){for(var e={},f=0;f<d.length;f++)e[d[f]]=b[f];for(var g=0;g<a.length;g++)for(var h=a[g],i=0;i<c.length;i++)h[i]||0===h[i]||(h[i]=e[c[i]]||"");return a},u=0,v=33;return a.toreport=function(){var a=n.length;if(a){var c=s(m,f),d=t(n,g,c,f),h=c.indexOf("module"),i=!0;if(h)for(var k=0;k<d.length;k++){var q=d[k][h];if(!q){i=!1;break}}else i=!1;if(i===!1&&p&&e.TIMER&&v>u){var r=this;return u++,window.clearTimeout(p),void(p=window.setTimeout(function(){r.toreport()},e.TIMER))}u=0,b(c,d),j(o,c,d),l={},m.length=n.length=0,o=e.TABLE,window.clearTimeout(p),p=null}},a.config=function(b,c,d){var f=(a.cookie&&a.cookie.getConfig?a.cookie.getConfig:{}).DATA||{},g=f.from||{};f._BASE&&f._BASE.ver7&&(b.ver7=f._BASE.ver7),f._BASE&&f._BASE.ver8&&(b.ver8=f._BASE.ver8),f._BASE&&f._BASE.ver5&&(b.ver5=f._BASE.ver5),f._BASE&&f._BASE.refer&&(b.refer=f._BASE.refer);var h={};for(var i in g){h=g[i];break}if(b.ver4=h.ver4||b.ver4,b.ver6=h.ver6||b.ver4,b)for(var j in b)e.DATA[j]=b[j];e.DELAY_REPORT=!!c,d&&(e.TABLE=d),r()},a.tdw=q,a}),function(a,b){"function"==typeof define&&define.amd?define("report.attr",["report","jquery"],b):a.report=b(a.report,a.jQuery)}(this,function(a,b){function c(a){if(a){var b,c=a.match(g);if(c){b=[];for(var d=0,e=c.length;e>d;d++){var f=c[d].match(h);if(f){for(var j={},k=0,l=f.length;l>k;k++)if(f[k]){var m=f[k].match(i);m[1]&&(j[m[1]]=m[2]||"")}b.push(j)}}}return b}}function d(a){if(a){for(var b=[],c=0,d=a.length;d>c;c++){var e=[];for(var f in a)(a[f]||0===a[f])&&e.push(f+"="+a[f]);b.push(e.join("&"))}return b.join("|")}}function e(a,e,f,g){switch(arguments.length){case 0:throw"Need target id and data";case 1:e=!1,f=!1,g={};break;case 2:g=e||{},e=!1,f=!1;break;case 3:g=f||{},f=!1}var h=b(a);if(h.attr("report-close",+!!e),h){if(!f){var i=[];(i=h.data("_DATA_OBJ"))||(i=c(h.attr("report-tdw"))||[]);for(var j in g)for(var k,l=0,m=i.length;m>l;l++)k=i[l]||(i[l]={}),k[j]=g[j];g=i}var n=d(g);if(!n)return this;h.attr("report-tdw",n),h.data("_DATA_OBJ",g)}return this}function f(a,d,e,f){switch(arguments.length){case 0:throw"Need target id";case 1:break;case 2:case 3:this.setReportAttr.apply(this,arguments)}var g=b(a),h={};return(h=g.data("_DATA_OBJ"))||(h=c(g.attr("report-tdw"))||{}),h}a=a||{};var g=/[^\|]+/gi,h=/(^|&)?([^&=]*)=([^&]*)(&|$)/gi,i=/(?:^|&)([^&=]*)=([^&]*)(?:&|$)/i,j=b(document);return j.on&&(b(document).on("click","*[report-tdw]",function(d,e){var f=b(this),g=f.attr("report-tdw"),h=f.attr("report-close");if(h=h?+h:0,g){var i;if((i=f.data("_DATA_OBJ"))||(i=c(g)||[]),e&&(e.isCloseReport&&(h=e.isCloseReport,f.attr("report-close",+!!e.isCloseReport)),e.data))for(var j in e.data)for(var k,l=0,m=i.length;m>l;l++)k=i[l]||(i[l]={}),k[j]=e.data[j];var n=b(this);n&&n[0]&&"A"!=n[0].tagName&&(n=n.find("a"));var o=n.attr("href");if(""==o)return;o&&o.indexOf("javascript")<0,f.data("_DATA_OBJ",i),h||a.tdw&&a.tdw(i)}}),b(document).on("click","a[href]",function(d,e){var f=b(this),g=f.attr("report-tdw"),h=f.attr("report-close");if(h=h?+h:0,!g){var i;if((i=f.data("_DATA_OBJ"))||(i=c(g)||[]),e&&(e.isCloseReport&&(h=e.isCloseReport,f.attr("report-close",+!!e.isCloseReport)),e.data))for(var j in e.data)for(var k,l=0,m=i.length;m>l;l++)k=i[l]||(i[l]={}),k[j]=e.data[j];i[0]={},i[0].action="."+this.className.replace(/\s+/g,".");for(var n=f.parent(),o=!1;n&&n[0]&&"BODY"!=n[0].tagName;){if(n.attr("report-tdw"))return void(o=!0);n=n.parent()}if(o)return;var p=f.attr("href");if(""==p)return;if(!(p&&p.indexOf("javascript")<0))return;i[0].obj2=p,h||a.tdw&&a.tdw(i)}})),a.setReportAttr=e,a.getReportAttr=f,a}),function(a,b){"function"==typeof define&&define.amd?define("report.cookie.init",["jquery","report","util.bom"],b):a.report=b(a.report,a.Bom)}(this,function(a,b,c){function d(b){return a.bom.query(b)||a.bom.getHash(b)}function e(b){return a.cookie.get(h+b)}var f,g=b.cookie||(b.cookie={}),h=g.__||(g.__="_cookie_tdw_"),i=(document.location.protocol,d("from")||e("from")),j=d("qz_gdt")||e("qz_gdt"),k=d("adposition"),l=d("course_id"),m={_BASE:{action:"From"}};j?(f="gdt="+j+";adposition="+k,m.qz_gdt={},m.qz_gdt[j]={ver1:l,ver4:17,ver5:f}):i?(m.from={},m.from[i]={ver1:l,ver4:i}):(m.from={},m.from[""]={ver1:l,ver4:"4"}),(28==i||63==i||64==i)&&(f=d("keyword")||e("keyword"),m.from[i].ver5=f);var n=g.CONF||(g.CONF={});return n.DATA=m,b}),function(a,b){"function"==typeof define&&define.amd?define("report.path",["jquery","report","util.bom","util.cookie","report.cookie.init"],b):a.reportPath=b(a.jQuery,a.report,a.Bom)}(this,function(a,b,c,d){function e(){if(C===y){for(var a in J)if(o(a))return J[a];return"b"}}function f(){return D.test(x)?"m":void 0}function g(){return E.test(y)?"o":F.test(y)?"p":G.test(y)?"q":void 0}function h(){return x==B&&(key=I[y],key)?key:void 0}function i(){for(var a,b=[h,e,f,g],c=0,d=b.length;d>c&&!(a=b[c].call(this));c++);return a||H}function j(){return q(z)}function k(a){return a.length>100?a=a.substring(0,100):p(z,a),a}function l(){var a=q(A);return a||m(),q(A)}function m(){p(A,Math.random())}function n(){var a=j()+K;return a=k(a),[a,l()].join("-")}function o(b){return a.bom.query(b)||a.bom.getHash(b)}function p(b,c,d,e,f){b&&(d=d||u,e=e||v,f=f||w,a.cookie.set(t+b,c,d,e,f))}function q(b){return a.cookie.get(t+b)}function r(b,c,d){b&&(c=c||u,d=d||v,a.cookie.del(t+b,c,d))}b=b||{};var s=b.cookie||(b.cookie={}),t=s.__||(s.__="_cookie_tdw_"),u="ke.qq.com",v="",w=24,x=location.host,y=location.pathname,z="userPath",A="userPathCode",B="ke.qq.com",C="/cgi-bin/courseList",D=/^([a-z])+\.ke\.qq\.com/,E=/^\/huodong\//,F=/^\/activity\//,G=/^\/channel\//,H="r",I={"/":"a","/index.html":"a","/cgi-bin/index":"a","/cgi-bin/courseDetail":"h","/activity/list/index.html":"i","/bbs/":"j","/bbs/index.html":"j","/cgi-bin/bbs/xbar_info":"k","/cgi-bin/bbs/posts/post_detail":"l","/cgi-bin/teacher":"n","/user/tasks/index.html":"u","/webcourse/index.html":"v","/exam/index.html":"w"},J={label_filter:"c",word:"d",tt:"g",st:"f",mt:"e"},K="A";return a(document).on("logout",function(){r(z),r(A)}),b.getPageCode=i,b.getUserPath=j,b.saveUserPath=k,b.getUserPathCode=l,b.saveUserPathCode=m,b.getApplyPath=n,b}),function(a,b){"function"==typeof define&&define.amd?define("report.cookie",["report","jquery","util.cookie","report.cookie.init","report.path"],b):a.report=b(a.report,a.jQuery,a.Cookie,a.reportPath)}(this,function(a,b,c){function d(a){if(a){for(var b=0,c=arguments.length;c>b;b++)if(b){var d=arguments[b];for(var e in d)a[e]=d[e]}return a}}function e(a,c,d,e,f){a&&(d=d||s,e=e||t,f=f||u,b.cookie.set(q+a,c,d,e,f))}function f(a){return b.bom.query(a)||b.bom.getHash(a)}function g(a){return b.cookie.get(q+a)}function h(a,c,d){a&&(c=c||s,d=d||t,b.cookie.del(q+a,c,d))}function i(){if(v.match(w)){var a=v.match(x);return a&&(a=a[0])?s.match(new RegExp(a,"ig"))||a.match(new RegExp(s,"ig")):null}return null}function j(){var a=g(z);if(a)return a;var b=v.match(x);return a=b&&(b=b[0])?b:"-",k(a),a}function k(a){e(z,a,s,t,2)}function l(a){for(var b in y.DATA)"_BASE"!==b&&a&&a(b,y.DATA[b])}function m(a){var b=document.createElement("a");return b.href=a,{source:a,protocol:b.protocol.replace(":",""),host:b.hostname,port:b.port,query:b.search,params:function(){for(var a,c={},d=b.search.replace(/^\?/,"").split("&"),e=d.length,f=0;e>f;f++)d[f]&&(a=d[f].split("="),c[a[0]]=a[1]);return c}(),file:(b.pathname.match(/\/([^\/?#]+)$/i)||[,""])[1],hash:b.hash.replace("#",""),path:b.pathname.replace(/^([^\/])/,"/$1"),relative:(b.href.match(/tps?:\/\/[^\/]+(.+)/)||[,""])[1],segments:b.pathname.replace(/^\//,"").split("/")}}function n(){l(function(c,k){var l,n="from"===c,o="firstForm",q="keyword",r=f(c),t=!1,u=i(),v=m(location),w=v.path,x="",z=f(q),A=p;if(u?(w=g("firstLand"),x=g("firstJump"),A=a.getUserPath()+A,z=g(q),w||e("firstLand",w)):(e(q,z),e("firstLand",w),h("firstJump"),a.saveUserPathCode()),"/index.html"==v.path||"/"==v.path||"/cgi-bin/index"==v.path){var B=!1;!u&&b(document).on&&b(document).on("click","*[jump-start]",function(a,c){if(!B){for(var d=b(this),f=d,g=[];!f.attr("jump-end")&&"BODY"!=f[0].tagName;){var h=f.attr("jump-through");h&&g.push(h),f=f.parent()}var i=d.attr("jump-start");g.push(i),g.reverse(),x=g.join("&"),e("firstJump",x),B=!0}})}if(!r&&(r=g(c))){if(!u)return h(c),k[r].ver4="4",n&&h(o),!0;u[0]!==s&&(t=!0)}var C=k[r];if(!C)return h(c),!0;t&&h(c);var D=C.ver4;if(D){var E=g(o);E||(E=D,e(o,E)),C.ver4=E,C.ver6=D}A&&(A=a.saveUserPath(A),l=a.getUserPathCode(),C.path=[A,l].join("-")),y.DATA._BASE.ver7=w,y.DATA._BASE.ver5=z,y.DATA._BASE.refer=j(),x&&(y.DATA._BASE.ver8=x);var F=d({},y.DATA._BASE,k._BASE,C);y.ISREPORT&&a.tdw(F),t||e(c,r)})}var o=a.cookie||(a.cookie={}),p=a.getPageCode&&a.getPageCode()||"",q=o.__||(o.__="_cookie_tdw_"),r=document.location.protocol,s="ke.qq.com",t="",u=24,v=document.referrer,w=new RegExp("^"+r+"\\/\\/","ig"),x=new RegExp("([^\\.\\/]+)(\\.[^\\.\\/]+)+","ig"),y=o.CONF||(o.CONF={});y.DATA||(y.DATA={_BASE:{action:"testFrom"},from:{90:{ver4:"test again"}}}),y.ISREPORT=!0;var z="refer";return o.config=function(a,b){if(a)for(var c in a)0===a[c]?delete y.DATA[c]:y.DATA[c]=a[c];y.ISREPORT=!b},o.getConfig=y,n(),a}),define("report.common.init",["require","jquery","report","util.cookie"],function(a){var b=a("jquery"),c=a("report"),d=a("util.cookie");return function(a){var e,f=d.uin(),g={uin:f,ts:"",opername:"Edu"},h=c.cookie.getConfig,i=h.DATA.from,j=h.DATA.qz_gdt;if(j){g.ver4=17;for(e in j)g.ver5=j[e].ver5}else if(i)for(e in i)e?(g.ver4=e,i[e].ver5&&(g.ver5=i[e].ver5)):g.ver4="4";c.config(b.extend(a,g))}}),function(a,b){"function"==typeof define&&define.amd?define("huatuo",[],b):a.huatuo=b()}(this,function(){function a(a){var b=[];for(var c in i)"url"!==c&&"isd"!==c&&(!!a[c]&&(i[c]=a[c]),i[c]&&b.push(c+"="+i[c]));return b.join("&")}function b(a,b){j[a]=b||new Date-0}function c(a,b){var c=[],d=100*Math.random()+1;c.push(i.url);for(var e in b)c.push(e+"="+b[e].cost);if(k[a]={},a&&c){c="http://report.huatuo.qq.com/report.cgi?"+h+"&speedparams="+encodeURIComponent(c.join("&"))+"&r="+d;var f=new Image;f.src=c,f=null}}function d(a,b){if(a&&b)for(var c in b)a[c]=b[c];return a}function e(a,b,c){if("number"==typeof c&&c>=0){var d=a[b];d?(d.cost=Math.round((d.num*d.cost+c)/(d.num+1)),d.num+=1):a[b]={cost:c,num:1}}}function f(b,f){var n=f&&f.url||i.url;f=f||{},h=a(f),m[n]&&clearTimeout(m[n]),k[n]||(k[n]={});var o=k[n],p=d(i.isd,f.isd),q=null;if(b&&"object"==typeof b)if(b instanceof Array){for(var r=0;r<b.length;r++){var s=b[r];if(0==r)q=j[s];else{var t=j[s]-q;!isNaN(t)&&t>0&&(o[p[s]]={cost:t,num:1})}}g(f.isPrevent,o)}else for(var u in b)e(o,u,b[u]);var v=0===f.delay?0:f.delay||l;v?m[n]=setTimeout(function(){c(n,o)},v):c(n,o)}function g(a,b){if(!window.performance||a)return b;var c=window.performance.timing;b||(b=[]),base=c.navigationStart;var d,e;for(var f in i.isd)d=i.isd[f],20>d&&(e=c[f]-base,!isNaN(e)&&e>0&&(b[d]={cost:e,num:1}));return b}var h,i={url:"",isd:{unloadEventStart:1,unloadEventEnd:2,redirectStart:3,redirectEnd:4,fetchStart:5,domainLookupStart:6,domainLookupEnd:7,connectStart:8,connectEnd:9,requestStart:10,responseStart:11,responseEnd:12,domLoading:13,domInteractive:14,domContentLoadedEventStart:15,domContentLoadedEventEnd:16,domComplete:17,loadEventStart:18,loadEventEnd:19,page_start:20,page_css_ready:21,page_js_ready:22,page_main_start:23,page_main_end:24,page_render_end:25,page_render_fp:26},appid:10028,device:"",platform:"",apn:"",userid:""},j={},k={},l=500,m={},n=window.TRecord;if(n){var o=n.getCachedData();$.extend(i,o.cfg),$.extend(j,o.speedPoints)}return b("page_start",window.T&&window.T[0]),window.huatuo={cfg:i,push:b,report:f},window.huatuo}),define("huatuo.common.init",["require","huatuo"],function(a){var b=a("jquery"),c=a("huatuo"),d=function(a,b){c.cfg.url=a;var d=["page_start","page_css_ready","page_js_ready","page_main_start","page_main_end","page_render_end","page_render_fp"];if(b&&b.isd&&"object"==typeof b.isd)for(var e in b.isd)d.push(e);c.report(d,b||{})};return b.initHuatuo=d,{init:d}}),define("check",["require","jquery","util.cookie"],function(a){var b=a("jquery");return{isWeixinUser:function(){var a=b.cookie.get("uid_type");return 2==a?!0:!1}}}),define("observer",[],function(){var a=function(){var a={};return{listen:function(b,c){return a[b]=a[b]||[],a[b].push(c),this},remove:function(b){var c=a[b];return c?c.length=0:a[b]=void 0,this},one:function(a,b){return this.remove(a),this.listen(a,b)},trigger:function(){var b,c,d;d=Array.prototype.shift.call(arguments),c=a[d]?a[d]:a[d]=[];for(var e=0,f=c.length;f>e;e++)if(b=c[e],b.apply(this,arguments)===!1)return this;return this}}},b={},c=a();return c.get=function(c){return b[c]||(b[c]=a()),b[c]},c}),function(a,b){"function"==typeof define&&define.amd?define("login",["check","observer"],b):a.Login=b()}(this,function(Check,Observer){function $(a){return"string"==typeof a?document.getElementById(a):a}function extend(a,b){if(arguments.length<2)return extend(this,a);a=a||{};for(var c in b)a[c]=b[c];return a}function getCookie(a){var b=document.cookie.match(new RegExp("(^| )"+a+"=([^;]*)(;|$)"));return b?decodeURIComponent(b[2]):""}function uin(){var a=getCookie("uin");return a?parseInt(a.substring(1,a.length),10):null}function skey(){return getCookie("skey")}function delCookie(a,b,c){document.cookie=a+"=; expires=Mon, 26 Jul 1997 05:00:00 GMT; path="+(c?c:"/")+"; "+(b?"domain="+b+";":"")}function addEvent(a,b,c){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener(b,c,!1)}function removeEvent(a,b,c){a.detachEvent?a.detachEvent("on"+b,c):a.removeEventListener(b,c,!1)}function str2JSON(str){var __pt_json=eval("("+str+")");return __pt_json}function showMask(a){mask=document.createElement("div"),mask.className="ptlogin-mask",mask.style.cssText="position:fixed;_position:absolute;width:100%;height:100%;padding:0;margin:0;left:0;top:0; z-index:999;filter:alpha(opacity=80);opacity:0.8;background-color:gray;",document.body.appendChild(mask)}function showFrame(a){outer=document.createElement("div"),outer.footerHeight=52,outer.className="ptlogin-wrap",outer.wrapHeight=414+outer.footerHeight,outer.marginTop=-(outer.wrapHeight/2),outer.style.cssText="position:fixed;_position:absolute;visibility:hidden;width:490px;height:"+outer.wrapHeight+"px;padding:0;margin-left:-245px; margin-top:"+outer.marginTop+"px; left:50%; top: 50%; z-index:1000;",outer.innerHTML='<iframe  name="login_frame" src="'+a+' "frameborder="0" scrolling="no" width="100%" height="100%"></iframe><div class="ptlogin-toolbar"><span class="toolbar-span"><p class="other-way">其他登录方式：</p><i class="btn-weixin js-login-weixin">微信登录</i></span></div>',loginFrame=outer.firstChild,document.body.appendChild(outer)}function weixinHandle(){var a="http://ke.qq.com/weixinCallBack.html",b="http://open.weixin.qq.com/connect/qrconnect?appid=wxa1fd810b3796f1a4&redirect_uri="+encodeURIComponent("http://ke.qq.com/cgi-bin/uidaccount/login?ttype=4&account_type=2&appid=wxa1fd810b3796f1a4&buz_id=122052647&redirect_uri="+encodeURIComponent(a))+"&response_type=code&scope=snsapi_login#wechat_redirect",c="location=yes,left=755,top=225,width=400,height=570,resizable=yes",d=window.open(b,"wechat",c);d.focus(),longpoll.init()}function makeLoginUrl(a){var b={target:ptConfig.target,appid:ptConfig.appid,hide_close_icon:1-!!ptConfig.closeIcon,s_url:ptConfig.succUrl},c=[],d="/login_proxy.html"+(a.domain?"#domain="+a.domain:"");if("xui"===ptConfig.mode){c.push("http://xui.ptlogin2"+hostDomain+"/cgi-bin/xlogin?");var e=location.href.split(/#|\?/)[0],f=e.indexOf("/",e.indexOf("//")+2),g=encodeURIComponent((-1!==f?e.substring(0,f):e)+d);b.proxy_url=ptConfig.proxyUrl||g,b.s_url=ptConfig.succUrl||g}else b.s_url=ptConfig.succUrl||encodeURIComponent("http://ui.ptlogin2."+hostDomain+d),c.push("http://ui.ptlogin2"+hostDomain+"/cgi-bin/login?");ptConfig.style&&(b.style=ptConfig.style);for(var h in b)c.push(h+"="+b[h]);return c.join("&")}function onmessage(a){var b=a||global.event;if(-1!==(a.origin||"").indexOf("ptlogin2")){var c;switch(c="undefined"!=typeof JSON?JSON.parse(b.data):str2JSON(b.data),c.action){case"close":global.ptlogin2_onClose();break;case"resize":global.ptlogin2_onResize(c.width,c.height)}}}function bindMessageAPI(){"undefined"!=typeof global.postMessage&&addEvent(global,"message",onmessage)}function unbindMessageAPI(){"undefined"!=typeof global.postMessage&&removeEvent(global,"message",onmessage)}function getEleByClassName(a,b){if(a&&a.getElementsByClassName)return a.getElementsByClassName(b);for(var c=(a||document).getElementsByTagName("*"),d=[],e=0;e<c.length;e++)for(var f=c[e],g=f.className.split(" "),h=0;h<g.length;h++)g[h]===b&&d.push(f);return d}function execTasks(a){for(var b=0,c=(a||[]).length;c>b;b++)try{a[b]()}catch(d){}}function setUin(a){status.uin=a}function isUinChanged(){return status.uin!=uin()}function setOpt(a){if(a){a.succ&&__cbSucc.push(a.succ),a.close&&__cbClose.push(a.close);for(var b in a)"undefined"!=typeof a[b]&&(userConfig[b]=a[b])}}function init(a){return a&&a.onStatusChanged&&(onStatusChanged=a.onStatusChanged),outer?void(a&&setOpt({succ:a.succ,close:a.close})):void setOpt(a)}function show(a){return a=a||{},outer?void(a&&setOpt({succ:a.succ,close:a.close})):(setOpt(a),void(isShowFrame||(isShowFrame=!0,extend(extend(ptConfig,config),userConfig),ptConfig.needMask&&showMask(ptConfig),showFrame(makeLoginUrl({domain:a.domain||""})),global.jQuery&&global.jQuery.event.trigger("loginShow"),"xui"===ptConfig.mode&&bindMessageAPI())))}function hide(){isShowFrame=!1,outer&&(document.body.removeChild(outer),outer=loginFrame=undefined),mask&&(document.body.removeChild(mask),mask=undefined),__cbSucc=[],__cbClose=[],"xui"===ptConfig.mode&&unbindMessageAPI()}function logout(){delCookie("uin",hostDomain),delCookie("skey",hostDomain),delCookie("lskey",hostDomain),delCookie("uid_a2",hostDomain),
delCookie("uid_type",hostDomain),delCookie("uid_uin",hostDomain),global.jQuery&&global.jQuery.event.trigger("logout"),onStatusChanged&&onStatusChanged(),location.reload()}function isLogin(){return!!getCookie("uin")&&!!getCookie("skey")||!!getCookie("uid_uin")&&!!getCookie("uid_a2")}var global=window,status={curUin:0};if(global.Login)return global.Login;var longpoll={timeout:null,timespace:2e3,handle:function(){var a=this;Check.isWeixinUser()&&(clearTimeout(a.timeout),Observer.get("login").trigger("weixinDone"))},init:function(){var a=this;clearTimeout(a.timeout),a.timeout=setInterval(function(){a.handle()},a.timespace)},destroy:function(){clearTimeout(self.timeout)}},config={needMask:!0,mode:"xui",closeIcon:!0,target:"self",appid:715030901},hostDomain=(location.hostname.match(/(\.\w+){2}$/)||["."+location.hostname])[0],userConfig={},ptConfig={},__cbSucc=[],__cbClose=[],onStatusChanged,undefined,outer,loginFrame,mask,isShowFrame=!1;return global.ptlogin2_onClose=function(){execTasks(__cbClose),global.jQuery&&global.jQuery.event.trigger("loginCancel"),hide(),clearTimeout(longpoll.timeout)},global.ptlogin2_onResize=function(a,b){outer&&(outer.wrapHeight=parseInt(b)+parseInt(outer.footerHeight),outer.marginTop=-(outer.wrapHeight/2),outer.style.width=a+"px",outer.style.height=outer.wrapHeight+"px",outer.style.marginLeft=-a/2+"px",outer.style.marginTop=outer.marginTop+"px",outer.style.visibility="visible",getEleByClassName(outer,"js-login-weixin")[0].onclick=weixinHandle)},global.ptlogin2_login_ok=function(a){status.uin||(delCookie("uid_a2",hostDomain),delCookie("uid_type",hostDomain),delCookie("uid_uin",hostDomain)),execTasks(__cbSucc),global.jQuery&&global.jQuery.event.trigger("login"),onStatusChanged&&onStatusChanged(),hide()},{init:init,show:show,hide:hide,logout:logout,isLogin:isLogin,uin:uin,skey:skey,setUin:setUin,isUinChanged:isUinChanged}}),define("mmReport",[],function(){function a(){var a=e.length;a>10&&(a=10);var b=e.splice(0,a);if(0!=b.length){var c=b[0].uin,d="http://c.isdspeed.qq.com/code.cgi?domain="+h.domain+"&uin="+c+"&apn="+b[0].apn;d+="&key=cgi,type,code,time";for(var f=["cgi","type","code","time"],g=0;g<f.length;g++)for(var i=0;i<b.length;i++){var j=b[i];d+="&"+(i+1)+"_"+(g+1)+"="+j[f[g]]}d+="&ignoreRandom="+Math.random();var k=new Image;k.src=d}}function b(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)a[e]=d[e]}return a}function c(c,i,j,k,l){g&&clearTimeout(g);var m=b({},h,l);m.cgi=encodeURIComponent(c),m.type=0===i?1:2,m.code=i,m.time=j,m.releaseversion=d||"unknown",m.uin=k,0===i?m.type=1:/^[4|5][0-9]{2}$/.test(i)?m.type=2:m.type=3,e.push(m),g=setTimeout(a,f)}var d,e=[],f=1e3,g=null,h={domain:document.domain||"ke.qq.com",code:null,uin:null,time:null,rate:1,apn:"pc"};return{report:c}}),function(a,b){"function"==typeof define&&define.amd?define("db",["jquery","./login","./mmReport","util.cookie","check"],b):a.DB=b(a.$,a.Login,a.MM,a.Cookie)}(this,function($,Login,MM,Cookie,Check){function noop(){}function extendCallBack(a,b,c,d){return function(){!c.apply(a,b)&&d.apply(a,b)}}function extend(a,b,c){if("object"!=typeof a)return a;b=b||{};for(var d in b){var e,f;c&&"function"==typeof(e=a[d])&&"function"==typeof(f=b[d])?a[d]=extendCallBack(a,arguments,f,e):a[d]=b[d]}}function encryptSkey(a){if(!a)return"";for(var b=5381,c=0,d=a.length;d>c;++c)b+=(b<<5)+a.charAt(c).charCodeAt();return 2147483647&b}function getSkey(){var a;return a=Check.isWeixinUser()?getCookie("uid_a2")||"":getCookie("skey")||""}var global=this,Badjs=window.Badjs,__DEBUG_STR__=function(){return""},$reportParam={_404:0,_5xx:0},isLoginError=!1,getCookie=Cookie.get,_uin,_skey=getSkey();_uin=Check.isWeixinUser()?getCookie("uid_uin")||0:getCookie("uin")||0;var uinCache={},ajax=function(a,b,c,d,e,f,g){function h(a){if("string"==typeof a&&a.indexOf("uin")>=0)j=!0;else for(var b in a)"string"==typeof b&&b.indexOf("uin")>=0&&(j=!0),"object"==typeof a[b]&&h(a[b])}var i=new Date,j=!1;h(b);var k=a.split("?")[0];j&&!uinCache[k]&&(uinCache[k]=!0);var l={type:d,url:a,data:b,async:g===!1?!1:!0,success:function(b){function d(a){for(var b in a)"string"==typeof b&&b.indexOf("uin")>=0&&(e=!0),"object"==typeof a[b]&&d(a[b])}var e=!1;d(b);var f=a.split("?")[0];e&&!uinCache[f]&&(uinCache[f]=!0,console.log("hasUin-res："+f));var g=new Date-i;c&&c(b,g)},error:function(a){var b=new Date-i;c&&c({ec:a.status?a.status:-1e3},b)}};return f&&(l.timeout=f),e&&(l.dataType=e),$.ajax(l)},cache={};return{abTest:!!(new Date%2),status:{bkn:""},"data-cache":{},isLoginError:function(){return isLoginError},encryptSkey:encryptSkey,getCookie:getCookie,initReport:function(a){},get:function(a,b,c,d,e,f){var g=[];for(var h in b)g.push(h+"="+encodeURIComponent(b[h]));return g.push("r="+Math.random()),-1==a.indexOf("?")&&(a+="?"),a+=g.join("&"),ajax(a,null,c,"GET",d,e,f)},post:function(a,b,c,d,e,f){var g=[];for(var h in b)g.push(h+"="+encodeURIComponent(b[h]));return g.push("r="+Math.random()),ajax(a,g.join("&"),c,"POST",d,e,f)},cgiHttp:function(opt){if(!opt||!opt.url)return void 0;var _this=this;opt.param=opt.param||{};var timeOpt={url:opt.url},httpFunction,callBack=function(data,ajax_cost){if(timeOpt.time=+new Date,"object"!=typeof data)if(data)if("{"===data.charAt(0)&&"}"===data.charAt(data.length-1))try{data=window.JSON&&JSON.parse?JSON.parse(data):eval("("+data+")")}catch(e){data={ec:999,text:data,msg:"data is no json"}}else data={ec:998,text:data,msg:"data is hijack"};else data={ec:997,text:data,msg:"data is null"};data.delay=ajax_cost,"retcode"in data?data.ec=data.retcode:data.retcode=data.ec;var ec=data.ec,errFlag;switch(ec){case 0:errFlag=!1,(opt.succ||function(){})(data);break;case 111:case-1001:case 1e5:case 100021:isLoginError=!0,window.jQuery&&window.jQuery.event.trigger("logout"),opt.noNeedLogin?errFlag=!0:"undefined"!=typeof Login?Login.show({succ:function(){opt.param.bkn=_this.status.bkn=_this.encryptSkey(getSkey()),httpFunction(opt.url,opt.param,callBack,opt.dataType,opt.timeout,opt.async)},close:function(){"function"==typeof opt.close&&opt.close.call(this),Badjs("CGI Error , LoginFailed , req:"+opt.url+", ec:"+ec,location.href,0,403860,4)}}):errFlag=!0,Badjs("CGI Error , Need Login,  req:"+opt.url+", ec:"+ec,location.href,0,403855,2);break;case 100021:opt.ldwRetry?errFlag=!0:(opt.ldwRetry=!0,_this.status.bkn=_this.encryptSkey(getSkey()),opt.param.bkn=_this.status.bkn,httpFunction(opt.url,opt.param,callBack,opt.dataType,opt.timeout,opt.async)),Badjs("CGI Error , Basekey Error , req:"+opt.url+", ec:"+ec,location.href,0,403856,4);break;case 100001:errFlag=!0,Badjs("CGI Error , Param Error:"+JSON.stringify(opt.param)+" , req:"+opt.url+", ec:"+ec,location.href,0,403858,4);break;case 100003:errFlag=!0,Badjs("CGI Error , Internal Error , req:"+opt.url+", ec:"+ec,location.href,0,403857,4);break;case-1e3:errFlag=!0,ec=data.ec=0;break;case 99999:errFlag=!0,Badjs("CGI Error , Need Show VerifyCode Error , red:"+opt.url+", ec:"+ec,location.href,0,0,2);break;case 101402:case 101403:case 101404:case 101405:case 101406:case 102404:case 103404:case 106401:case 106402:case 106403:case 106404:case 106405:case 106406:case 106407:case 106409:case 106410:case 106411:case 106412:case 106413:case 106415:case 106416:case 106425:case 106427:case 106435:case 106457:case 110403:errFlag=!0,Badjs("CGI Error , Bussines Error , req:"+opt.url+", ec:"+ec,location.href,0,408941,2);break;default:errFlag=!0,Badjs("CGI Error , Other Error , req:"+opt.url+", ec:"+ec,location.href,0,403859,4)}if(MM.report(opt.url,ec,ajax_cost,_uin),errFlag){var isBlockDefaultErr=(opt.err||function(){})(data);if(ec&&!_this.status.isDialog&&106457!==ec)if(isBlockDefaultErr){var msg=isBlockDefaultErr.msg;if(msg){msg+=__DEBUG_STR__({url:opt.url,ret:data},"info");var __opt=isBlockDefaultErr.opt||{},_onCancel=__opt.onCancel;opt.onCancel=function(){_onCancel.apply(__opt,arguments),_this.status.isDialog=!1},$.modal.alert(msg,__opt),_this.status.isDialog=!0}}else{var defaultWording="服务器繁忙，请稍后再试",wording={100001:"输入参数错误",100003:"服务器内部错误，请稍后再试",110405:"没有管理权限，请重新刷新页面"}[ec]||defaultWording,_finally=function(){switch(_this.status.isDialog=!1,ec){case 106507:location.href="/index.html";break;case 106406:case 106407:case 110405:location.reload()}};if(106507===ec)return _this.status.isDialog=!0,$.modal.alert("由于触犯平台规则，机构功能禁止使用7天",{title:"提示",onCancel:_finally,onAccept:_finally,onClose:_finally});(110405==ec||"POST"==opt.type)&&($.modal.alert(wording+("("+ec+")")+__DEBUG_STR__({url:opt.url,ret:data},"info"),{type:"err",onCancel:_finally,onAccept:_finally,onClose:_finally}),_this.status.isDialog=!0)}}};opt.param.bkn=_this.encryptSkey(getSkey()),opt.type&&"GET"!=opt.type.toUpperCase()?(opt.type="POST",httpFunction=_this.post):(opt.type="GET",httpFunction=_this.get);var ret=httpFunction(opt.url,opt.param,callBack,opt.dataType,opt.timeout,opt.async);return ret},extend:function(a,b,c,d){var e=Object.prototype.toString.call(a);if("[object String]"===e){c=c||this;var f={};f[a]=b,extend(c,f,d)}else"[object Object]"===e&&((null===b||void 0===b)&&arguments.length>=4?(c=c||this,extend(c,a,d)):(d=c,c=b||this,extend(c,a,d)))},addCgi:function(a,b){var c=this,d={};d[a]=function(a){var d={};d.param=a.param||{},d.url=b,d.succ=function(b){(a.succ||function(){})(b)},d.err=function(b){(a.err||function(){})(b)},c.cgiHttp(d)},this.extend(d)},httpMethod:function(a){var b=this;return function(c){var d={};return d.async=a.async===!1?!1:!0,d.param=c.param,d.timeout=c.timeout,a.type&&(d.type=a.type),a.dataType&&(d.dataType=a.dataType),a.noNeedLogin&&(d.noNeedLogin=a.noNeedLogin),d.url=a.url,d.succ=function(b){return(a.succ||c.succ||noop)(b)},d.err=function(b){return(a.err||c.err||function(){})(b)},d.close=function(b){return(a.close||c.close||function(){})(b)},d.isUseModal=c.isUseModal,b.cgiHttp(d)}},wrapGroup:function(a){return a||{}},save:function(a,b){cache[a]=b},getCache:function(a){return cache[a]},clearCache:function(a){cache[a]=null}}}),define("index/nightly",["jquery"],function(a){function b(){var a,b=+(new Date).getHours();b>=18&&24>=b?c():(a=new Date,a.setHours(18),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0),setTimeout(c,a-+new Date))}function c(){a("#auto-test-nav-5").remove(),a(".login-area").prepend('<li id="auto-test-nav-5"><a href="http://ke.qq.com/faq.html" target="_blank" report-tdw="action=Title-clk&ver1=6">帮助</a></li><li class="split-line">|</li>'),a("#js_header .autoM").append('<a href="/nightly/index.html" report-tdw="action=yexue" target="_blank"><div style="cursor: pointer;width: 130px;height: 76px;background: url(/img/nightly.gif);position: absolute;right: 260px;top: -4px;"></div></a>'),a("#js_logout_outer .nick").css("width",80),a("#js_header .autoM").append('<a href="/nightly/index.html" report-tdw="action=yexue" target="_blank"><div style="cursor: pointer;width: 130px;height: 76px;background: url(/img/nightly.gif);position: absolute;right: 260px;top: -4px;"></div></a>')}return{init:b}}),function(a,b){"function"==typeof define&&define.amd?define("jquery.placeholder",["jquery"],b):b(a.jquery)}(this,function(a){function b(b){var c={},d=/^jQuery\d+$/;return a.each(b.attributes,function(a,b){b.specified&&!d.test(b.name)&&(c[b.name]=b.value)}),c}function c(b,c){var d=this,f=a(d);if(d.value==f.attr("placeholder")&&f.hasClass("placeholder"))if(f.data("placeholder-password")){if(f=f.hide().next().show().attr("id",f.removeAttr("id").data("placeholder-id")),b===!0)return f[0].value=c;f.focus()}else d.value="",f.removeClass("placeholder"),d==e()&&d.select()}function d(){var d,e=this,f=a(e),g=this.id;if(""==e.value){if("password"==e.type){if(!f.data("placeholder-textinput")){try{d=f.clone().attr({type:"text"})}catch(h){d=a("<input>").attr(a.extend(b(this),{type:"text"}))}d.removeAttr("name").data({"placeholder-password":f,"placeholder-id":g}).bind("focus.placeholder",c),f.data({"placeholder-textinput":d,"placeholder-id":g}).before(d)}f=f.removeAttr("id").hide().prev().attr("id",g).show()}f.addClass("placeholder"),f[0].value=f.attr("placeholder")}else f.removeClass("placeholder")}function e(){try{return document.activeElement}catch(a){}}var f,g,h="[object OperaMini]"==Object.prototype.toString.call(window.operamini),i="placeholder"in document.createElement("input")&&!h,j="placeholder"in document.createElement("textarea")&&!h,k=a.fn,l=a.valHooks,m=a.propHooks;i&&j?(g=k.placeholder=function(){return this},g.input=g.textarea=!0):(g=k.placeholder=function(){var a=this;return a.filter((i?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":c,"blur.placeholder":d}).data("placeholder-enabled",!0).trigger("blur.placeholder"),a},g.input=i,g.textarea=j,f={get:function(b){var c=a(b),d=c.data("placeholder-password");return d?d[0].value:c.data("placeholder-enabled")&&c.hasClass("placeholder")?"":b.value},set:function(b,f){var g=a(b),h=g.data("placeholder-password");return h?h[0].value=f:g.data("placeholder-enabled")?(""==f?(b.value=f,b!=e()&&d.call(b)):g.hasClass("placeholder")?c.call(b,!0,f)||(b.value=f):b.value=f,g):b.value=f}},i||(l.input=f,m.value=f),j||(l.textarea=f,m.value=f),a(function(){a(document).delegate("form","submit.placeholder",function(){var b=a(".placeholder",this).each(c);setTimeout(function(){b.each(d)},10)})}))}),function(a,b){"function"==typeof define&&define.amd?define("local.data",["jquery"],b):a.localData=b(a.jQuery)}(this,function(a){var b=function(){var a,b,d=document.getElementsByTagName("head")[0],e=window.location.hostname||"edu_database",f=new Date;if(d.addBehavior){try{b=new ActiveXObject("htmlfile"),b.open(),b.write('<script>document.w=window;</script><iframe src="/favicon.ico"></frame>'),b.close(),a=b.w.frames[0].document}catch(g){a=document}d=a.createElement("head"),a.appendChild(d),f.setDate(f.getDate()+30),d.addBehavior("#default#userData"),d.expires=f.toUTCString(),d.load(e);var h=d.XMLDocument.documentElement,i=h.attributes,j="prefix_____hack__",k=/^[-\d]/,l=new RegExp("^"+j),m=function(a){return k.test(a)?j+a:a},n=function(a){return a.replace(l,"")};return c={length:i.length,notNativeCode:!0,getItem:function(a){return(i.getNamedItem(m(a))||{nodeValue:null}).nodeValue||h.getAttribute(m(a))},setItem:function(a,b){h.setAttribute(m(a),b),d.save(e),this.length=i.length},removeItem:function(a){h.removeAttribute(m(a)),d.save(e),this.length=i.length},clear:function(){for(;i.length;)this.removeItem(i[0].nodeName);this.length=0},key:function(a){return i[a]?n(i[a].nodeName):void 0}}}},c=function(a){var b=function(){return null};return a?{set:function(b,c){void 0!==this.get(b)&&this.remove(b);try{a.setItem(b,c)}catch(d){this.clear()}},get:function(b){var c=a.getItem(b);return null===c?void 0:c},remove:function(b){a.removeItem(b)},clear:function(){a.clear()},each:function(a){var b,c=this.obj(),d=a||function(){};for(b in c)if(d.call(this,b,this.get(b))===!1)break},obj:function(){var b,c,d={},e=0;if(a.isVirtualObject)d=a.key(-1);else for(b=a.length;b>e;e++)c=a.key(e),d[c]=this.get(c);return d}}:{set:b,get:b,remove:b,clear:b,each:b,obj:b}}(window.localStorage||b());return a.localStorage=c,c}),function(a,b){"function"==typeof define&&define.amd?define("header",["jquery","./login","db","html","index/nightly","report","check","observer","jquery.placeholder","local.data","util.cookie"],b):a.Header=b(a.jQuery,a.Login,a.DB,a.html,a.report)}(this,function(a,b,c,d,e,f,g,h){function i(b,c){var d=["none",""];a("#js_login")[0].style.display=d[1-b],a("#js_logout_outer,#js_logout_outer_agency").hide(),b?(a("#js-mod-header-login").addClass("mod-header__wrap-logined"),D.plat_role&&/[1245]/.test(D.role)&&7!=D.agency_step_flag?k(b,c):j(b,c)):a("#js-mod-header-login").removeClass("mod-header__wrap-logined")}function j(b,c){var d=["none","block"];a("#js_logout_outer")[0].style.display=d[+b],b&&!g.isWeixinUser()&&a("#js_logout_outer .js-avatar").prop("src","http://q.qlogo.cn/g?b=qq&nk="+a.cookie.uin()+"&s=40")}function k(b,c){var d=["none","block"];a("#js_logout_outer_agency")[0].style.display=d[+b],b&&!g.isWeixinUser()&&a("#js_logout_outer_agency .js-avatar").prop("src","http://q.qlogo.cn/g?b=qq&nk="+a.cookie.uin()+"&s=40"),5===D.role&&a(".mod-header__user-operation span,.mod-header__user-operation b").each(function(){var b=a(this);"机构管理"===a.trim(b.text())&&b.text("老师管理")})}function l(a,b,c){var d="";return d=-1===a.indexOf("?")?a+"?"+b+"="+encodeURIComponent(c):a+"&"+b+"="+encodeURIComponent(c)}function m(){var b=a("#js-searchbox");a(".js-login-op").click(function(b){var c=a(b.target).attr("data-hook");c&&(f.tdw({action:c}),setTimeout(function(){I[c]()},500))});var c=a("#js_search");c.click(function(c){var d=a.trim(a("#js_keyword").val()),e=b.find(".mod-search-dropdown-item-selected").data("type");if(d)d="?word="+encodeURIComponent(d);else if("course"===e){var g=J[e].search_word;d=g?"?word="+encodeURIComponent(g):""}else if("agency"===e)return;c.preventDefault(),f.tdw({action:"seach_click"}),a(this).attr("jump-through",a("#js_keyword").val()),"course"===e?setTimeout(function(){location.href=l("http://ke.qq.com/cgi-bin/courseList"+d,"enable_activity_label",0)},400):"agency"===e&&(f.tdw({action:"search_orgsearch"}),setTimeout(function(){location.href="http://ke.qq.com/searchAgency.html"+d},400))}),b.on("keydown",".mod-search__input",function(a){13==a.keyCode&&c.click()}),b.on("focus",".mod-search__input",function(a){f.tdw({action:"seachshine_click"})});var d=b.find(".mod-search-dropdown-item"),e=(b.find(".mod-search__input"),b.find(".mod-search-dropdown"));b.find(".mod-search-dropdown").on("mouseenter",function(){}).on("mouseleave",function(){}),b.find(".mod-search-dropdown-item").on("click",function(){a(this).hasClass("mod-search-dropdown-item-selected")||b.find(".mod-search-dropdown-item").removeClass("mod-search-dropdown-item-hover"),d.eq(0).is(":visible")&&d.eq(1).is(":visible")?(d.hide(),e.removeClass("mod-search-dropdown-hover")):(d.show(),e.addClass("mod-search-dropdown-hover")),d.removeClass("mod-search-dropdown-item-selected"),a(this).addClass("mod-search-dropdown-item-selected");var c=b.find(".mod-search-dropdown-item-selected"),g=c.data("type"),h=b.find("#js_keyword"),i="搜索机构"===h.val()||"搜索课程"===h.val()?"":h.val();'<input class="mod-search__input" id="js_keyword" type="text" maxLength="38" value="'+i+'"" placeholder='+J[g].guide_word+">";c.show(),c.prependTo(a(".mod-search-dropdown")),h.attr("placeholder",J[g].guide_word),("搜索机构"===h.val()||"搜索课程"===h.val()||""===h.val())&&(h.val(" "),h.val("")),w(),"agency"===g&&f.tdw({action:"search_orgclk"})}).on("mouseenter",function(){a(this).addClass("mod-search-dropdown-item-hover")}).on("mouseleave",function(){a(this).removeClass("mod-search-dropdown-item-hover")}),a(document).on("click",function(b){a(b.target).hasClass(".mod-search-dropdown")||0!==a(b.target).closest(".mod-search-dropdown").length||(e.removeClass("mod-search-dropdown-hover"),e.find(".mod-search-dropdown-item").eq(1).hide())}),a("#js-help").on("click",function(b){a.proxy(K,this)(b,"help")}),a(".js-agency-manage").on("click",function(b){a.proxy(K,this)(b,"organization_manage")});var g=a("#js-mod-header-nav"),h=g.find(".mod-header__nav-item-more");h.on("mouseenter",function(){a(this).addClass("mod-header__nav-item-selected"),f.tdw({action:"channel-hover"})}),h.on("mouseleave",function(){a(this).removeClass("mod-header__nav-item-selected")})}function n(){var a=location.pathname;L[a]&&"ke.qq.com"===location.hostname&&("/"===a&&(a="/index.html"),E.find('[href="http://ke.qq.com'+a+'"]').parent(".mod-header__nav-item").addClass("mod-header__nav-item_current"))}function o(a){var b=[];for(var c in a)b.push(c+"="+encodeURIComponent(a[c]));return b.join("&")}function p(a){window.name=o(a)}function q(){setTimeout(function(){r()},200)}function r(){C=!0,c.cgiHttp({url:"/cgi-bin/login/userinfo",type:"POST",noNeedLogin:!0,succ:function(c){if(C=!1,c=c.result||{},E.length){var d;if(c.is_login){var e=parseInt(c.role_type)||0,f=c.nick_name,h=a.cookie.uin();d=D={agency_step_flag:c.agency_step_flag,role:e,nick:f,uin:h,plat_role:c.agency_role_perm_info&&c.agency_role_perm_info[0]&&c.agency_role_perm_info[0].plat_role},b.setUin(h),i(1,f)}else d=D={role:0},E.addClass("js-unknown-role"),i(0);p(d)}c.retcode=0,H=c,u(),B(),g.isWeixinUser()&&a("#js_logout_outer .js-avatar").prop("src",H.face_url)},err:function(a){return C=!1,H=a,B(),b.isLogin()||(p({role:0}),i(0)),!0}})}function s(){var b=a.cookie.uin();return b?"redpoint-"+b:""}function t(b){var c,d=s();d&&(c=a.localStorage.get(d)||"[]",c=JSON.parse(c),a(c).each(function(a,c){b[c]=0}))}function u(){if(H){t(H);var b=[".js-live-course",".js-fav",".js-coupon",".js-course-plan",".js-signup"],c=[];H.total_num>0&&c.push(b[1]),1===H.coupon_red_flag&&c.push(b[2]),1===H.present_vedio_red_flag&&c.push(b[4]),a(b.join(",")).removeClass("indicate-remind"),c.length>0?(c.push(b[3]),a("#js_logout_outer_agency, #js_logout_outer").find(".icon-red-circle").show(),a(c.join(",")).addClass("indicate-remind"),u.hasRender||(f.tdw({action:"Redpoint-Exposure"}),u.hasRender=!0)):a("#js_logout_outer_agency, #js_logout_outer").find(".icon-red-circle").hide()}}function v(){c.cgiHttp({url:"/cgi-bin/get_navigation_info",type:"POST",noNeedLogin:!1,succ:function(b){var c,d,e,f=b.result.list,g=a("#js_main_nav").data("mod"),h=a("#js-mod-header-nav"),i="";for(c=0;c<f.length;c++)1!=f[c].m_visvible&&(f.splice(c,1),c--);if(0!==f.length)if(960===g){for(c=0,d=f.length;d>c;c++)e=f[c],i+='<li class="mod-header__activity-item"><a href="'+e.m_link+'" class="mod-header__activity-item-content" target="_blank" report-tdw="action=channel-clk&ver1='+e.m_banner_text+"&ver2="+(c+1)+"&ver3="+e.m_symbol+'"><span class="mod-header__activity-item-text'+(1==e.m_symbol?" mod-header__activity-item-hot":"")+(2==e.m_symbol?" mod-header__activity-item-new":"")+'">'+e.m_banner_text+"</span></a></li>";h.find(".mod-header__activity-list").html(i),h.find(".mod-header__nav-item-more").show()}else{var j=364,k=282,l=0;for(c=0,d=f.length;d>c;c++)l+=16*f[c].m_banner_text.length+40;if(j>=l){for(c=0,d=f.length;d>c;c++)e=f[c],i+='<li class="mod-header__nav-item"><a href="'+e.m_link+'" class="mod-header__link-nav'+(1==e.m_symbol?" mod-header__link-nav-hot":"")+(2==e.m_symbol?" mod-header__link-nav-new":"")+'" target="_blank" report-tdw="action=channel-clk&ver1='+e.m_banner_text+"&ver2="+(c+1)+"&ver3="+e.m_symbol+'">'+e.m_banner_text+"</a></li>";h.find(".mod-header__nav-item-more").before(i)}else{var m="",n="",o=0;for(c=0,d=f.length;d>c;c++)e=f[c],o+=16*f[c].m_banner_text.length+40,k>=o?m+='<li class="mod-header__nav-item"><a href="'+e.m_link+'" class="mod-header__link-nav'+(1==e.m_symbol?" mod-header__link-nav-hot":"")+(2==e.m_symbol?" mod-header__link-nav-new":"")+'" target="_blank" report-tdw="action=channel-clk&ver1='+e.m_banner_text+"&ver2="+(c+1)+"&ver3="+e.m_symbol+'">'+e.m_banner_text+"</a></li>":n+='<li class="mod-header__activity-item"><a href="'+e.m_link+'" class="mod-header__activity-item-content" target="_blank" report-tdw="action=channel-clk&ver1='+e.m_banner_text+"&ver2="+(c+1)+"&ver3="+e.m_symbol+'"><span class="mod-header__activity-item-text'+(1==e.m_symbol?" mod-header__activity-item-hot":"")+(2==e.m_symbol?" mod-header__activity-item-new":"")+'">'+e.m_banner_text+"</span></a></li>";h.find(".mod-header__nav-item-more").before(m),h.find(".mod-header__activity-list").html(n),h.find(".mod-header__nav-item-more").show()}}},err:function(a){return!0}})}function w(){if(a.fn.placeholder)a("#js_keyword").placeholder();else{var b="[object OperaMini]"==Object.prototype.toString.call(window.operamini),c="placeholder"in document.createElement("input")&&!b;!c&&a.loadScript("http://7.url.cn/edu/js/1.2.0/jquery.placeholder.js",function(){a.fn.placeholder&&a("#js_keyword").placeholder()})}}function x(){c.cgiHttp({url:"/cgi-bin/search_bar/get_guide_word",type:"POST",noNeedLogin:!1,succ:function(b){b.result.list&&b.result.list.length>0&&(J.course=b.result.list[0]);var c=a("#js-searchbox");"course"===c.find(".mod-search-dropdown-item-selected").data("type")&&c.find(".mod-search__input").attr("placeholder",J.course.guide_word),w()},err:function(a){return!0}})}function y(){for(var b=a("#js-searchbox"),c=b.find(".mod-search-word"),d=0,e=c.length;e>d;d++){var f=a(c[d]);1===f.data("nolink")&&f.attr("href","http://ke.qq.com/cgi-bin/courseList?word="+encodeURIComponent(f.html()))}}function z(a){a=a||{},G=void 0==a.isLoginReload?!0:a.isLoginReload}function A(){if(b.init({onStatusChanged:function(){var c=b.isLogin();if(c){var d=s();d&&a.localStorage.remove(d)}else p({role:0});!F&&c&&r()}}),y(),r(),"http://ke.qq.com/index.html"!==location.href?(v(),w()):x(),E.length){n(),m(),-1!==location.href.indexOf("/searchAgency")&&(a(a("#js-searchbox").find(".mod-search-dropdown-item")[1]).trigger("click"),a(a("#js-searchbox").find(".mod-search-dropdown-item")[0]).trigger("click"));var c=a.bom.query("word");c=c.replace(/\+/g," "),c&&a("#js_keyword").val(c),e&&e.init()}}function B(){var b=M;M=[],a(b).each(function(a,b){"function"==typeof b&&b(H)})}var C,D={},E=a("#js_main_nav"),F=!1,G=!0;h.get("login").listen("weixinDone",function(a){G?location.reload():(b.hide(),q())});var H,I={login:function(){F=!0,b.show({succ:function(){G?location.reload():(b.hide(),q())},close:function(){F=!1}})},logout:function(){F=!0,b.logout()}},J={course:{guide_word:"搜索课程",search_word:null},agency:{guide_word:"搜索机构",search_word:null}},K=function(b,c){b.preventDefault();var d=a(this).prop("href");f.tdw({action:c}),setTimeout(function(){location.href=d},500)},L={"/":1,"/index.html":1,"/cgi-bin/courseList":1,"/myCourse/index.html":1,"/agencyManage/index.html":1,"/applyLecture.html":1,"/faq.html":1},M=[];return{getInfo:function(a){setTimeout(function(){C?M.push(a):a(H)},0)},refreshRedPoint:u,setInfoVal:function(b,c){if(H&&(H[b]=c,-1!==a.inArray(b,["total_num","coupon_red_flag","present_vedio_red_flag"]))){var d,e=s();e&&(d=a.localStorage.get(e)||"[]",d=JSON.parse(d),-1===a.inArray(b,d)&&(d.push(b),a.localStorage.set(e,JSON.stringify(d))))}},init:A,setConfig:z,refreshHeader:q}}),function(a,b){"function"==typeof define&&define.amd?define("getClientVersion",[],b):a.GetClientVersion=b()}(this,function(){function a(){var a=!0;try{a=window.ActiveXObject||window.ActiveXObject.prototype?!0:!1}catch(b){a=!1}return a}function b(a,b){var c=document.createElement(a),d={"class":function(){c.className=b["class"]},style:function(){c.style.cssText=b.style}};for(var e in b)d[e]?d[e]():c.setAttribute(e,b[e]);return c}var c=function(){return this.clientVersion||(this.clientVersion=function(){for(var c,d=-1,e=0,f=function(){try{a()?d=new ActiveXObject("TimwpDll.TimwpCheck").GetHummerQQVersion()||-1:(c=$("webkit_embed").length||document.body.appendChild(b("embed",{id:"webkit_embed",type:"application/qscall-plugin",width:0,height:0,hidden:"true"})),c.InitActiveX("TimwpDll.TimwpCheck"),d=c.GetHummerQQVersion())}catch(e){}finally{c=null}};-1==d&&3>e;)f(),e++;return d}())};return c}),function(a,b){"function"==typeof define&&define.amd?define("render",["jquery","login","header","check","getClientVersion"],b):b(a.jQuery,a.Login,a.Header)}(this,function(a,b,c,d,e){return a.render={},a.render.time=function(){function b(a,b){return 0===n?parseInt(a):parseInt(parseInt(a)+n*(b?1:-1))}function c(a){return("0"+a).slice(-2,3)}function d(a,d,e,h){d=d||1;var i=e?new Date(h?e:1e3*b(e,!0)):new Date,j=new Date(h?a:1e3*b(a,!0)),k=j.getHours()+":"+c(j.getMinutes()),l="";l=i.getFullYear()===j.getFullYear()&&i.getMonth()===j.getMonth()&&i.getDate()===j.getDate()?"今天":j.getMonth()+1+"月"+j.getDate()+"日";var m=["周日","周一","周二","周三","周四","周五","周六"];switch(d){case 1:return l+" "+k;case 2:return l;case 3:return k+":"+c(j.getSeconds());case 4:return f("M月DD日",j,!0)+" "+m[j.getDay()];case 5:return g(j,i,"1-en",!0);case 6:return f("YYYY-MM-DD hh:mm",j,!0)}}function e(a){var b=Math.floor(a/60/60),c=Math.floor(a/60%60);return b+":"+c}function f(a,c,d){function e(a,b){return b=b.length,a=a||0,1==b?a:String(Math.pow(10,b)+a).slice(-b)}return c?("number"==typeof c&&(c=new Date(c)),!d&&(c=new Date(1e3*b(parseInt(c.valueOf()/1e3,10),!0))),a.replace(/([YMDhsm])\1*/g,function(a){switch(a.charAt()){case"Y":return e(c.getFullYear(),a);case"M":return e(c.getMonth()+1,a);case"D":return e(c.getDate(),a);case"w":return c.getDay()+1;case"h":return e(c.getHours(),a);case"m":return e(c.getMinutes(),a);case"s":return e(c.getSeconds(),a)}})):""}function g(a,b,c){c=c||"default",b=b||new Date,a=new Date(1e3*a),b=b?new Date(1e3*b):new Date;var d=o[c]||o[1],e=new Date(b.getFullYear(),b.getMonth(),b.getDate()+1);a instanceof Date&&(a=a.getTime());for(var f,g,h=e-a,i=0,j=d.length;j>i&&(f=d[i],h>1e3*f[0]);i++)g=f[1];return g}function h(a,b){a=new Date(1e3*a),b=b?new Date(1e3*b):new Date;var c=(b-a)/1e3;return 60>c?"刚刚":3600>c?Math.floor(c/60)+"分钟前":86400>c?Math.floor(c/3600)+"小时前":864e4>c?Math.floor(c/24/3600)+"天前":"很久之前"}function i(a,b){a=new Date(1e3*a),b=b?new Date(1e3*b):new Date;var c=(a-b)/1e3;if(0>c)return"已结束";if(60>c)return"1分钟";var d=Math.floor(c/3600),e=Math.ceil((c-3600*d)/60),f=(d?d+"小时":"")+(e?e+"分钟":"");return f}function j(b,c){if(!b||!b.begintime||!b.endtime)return{ec:1};var d=1e3*b.begintime,e=1e3*b.endtime,f=(new Date).getTime(),g=0;c&&c.server_time?g=1e3*c.server_time+100-f:b.id&&p[b.id]&&(g=p[b.id]),(g>2e3||-2e3>g)&&(g=0),b.id&&g&&(p[b.id]=g),f+=g;var h;h=d>f?1:f>e?-1:0;var i={ec:0,status:h};return g&&(i.t_delta=g),-1==h&&(i.expired_str=a.render.time.format(b.endtime,5,Math.floor(f/1e3))),i}function k(a){var b,c,d=new Date(1e3*a.bgtime),e=new Date(1e3*a.endtime),g=new Date(1e3*a.systime);return d.getFullYear()===g.getFullYear()?(b="MM月DD日",c=e.getFullYear()===g.getFullYear()?"MM月DD日":"YY年MM月"):(b="YY年MM月",c="YY年MM月"),{bgtime:f(b,d),endtime:f(c,e)}}var l=480,m=(new Date).getTimezoneOffset(),n=60*(l+m),o={1:[[0,"今天"],[86400,"昨天"],[259200,"一周内"],[604800,"更早"]],"1-en":[[0,"today"],[86400,"yesterday"],[259200,"thisweek"],[604800,"earlier"]],2:[[60,"刚刚"],[3600,"$m分钟前"],[36e3,"$h小时前"],[82800,"今天"],[86400,"昨天"],[172800,"前天"],[259200,"一周内"],[604800,"一周前"],[2592e3,"一个月前"],[7776e3,"三个月前"],[15811200,"半年前"],[31536e3,"一年前"]]},p={};return{fixTimezone:b,format:d,changeHour:e,formatDate:f,courseStatus:j,fromNow:g,fromNowStr:h,fromStartTime:i,formatTermTime:k}}(),a.render.fomartTermDuration=function(b){var c,d;if(b.bgtime){var e=a.render.time.formatTermTime(b);return{begin:e.bgtime+"开课",end:e.endtime+"结课"}}c="随到随学";var f=new Date(1e3*b.endtime),g=new Date(1e3*b.systime);return d=f.getFullYear()===g.getFullYear()?"MM月DD日":"YY年MM月",{begin:c,end:a.render.time.formatDate(d,f)+"结课"}},a.render.summary=function(a){return(a||"").replace(/<br>/g,"")},a.render.wrap=function(a){return(a||"").replace(/<br>/g,"\n")},a.render.qb=function(a){var b=(a/100).toFixed(2);return(b+"").replace(/\.?0{1,2}$/,"")+"Q币"},a.render.formatCouponPrice=function(b){var c,d=b.passcard_price,e=b.price,f=b.cur_term_id,g=2,h=b.coupon_price||0,i=Math.max(e-h,g),j=Math.max(d-h,g);return 0===e&&(h=i=j=0),1===b.passcard&&null===f&&d!==e?(c=i===j?["&yen;",'<span class="fontsize-22">'+a.render.price(j,!0)+"</span>"]:["&yen;",'<span class="fontsize-22">'+a.render.price(i,!0)+" - </span>","&yen;",'<span class="fontsize-22">'+a.render.price(j,!0)+"</span>"],h&&(c=c.concat(['<span class="raw-price-range"><span class="raw-price">&yen;',a.render.price(e,!0),'</span> - <span class="raw-price">',"&yen;",a.render.price(d,!0),"</span></span>"]))):(c=[0!==e?"&yen;":"",'<span class="fontsize-22">'+a.render.price(0===f?j:i,!0)+"</span>"],h&&(c=c.concat(['<span class="raw-price-range"><span class="raw-price">&yen;',a.render.price(0===f?d:e,!0),"</span></span>"]))),c.join("")},a.render.price=function(a,b,c,d){if(0===a)return d?b?"0.00":"0.00元":"免费";if(a){var e=(a/100).toFixed(2);if(c){for(var f=e.split("."),g=f[0].split(""),h=f[1],i="",j=g.length,k=j-1,l=0;k>=0;k--,l++)l%3===0&&0!==l&&(i=","+i),i=g[k]+i;e=i+"."+h}return b?e:e+"元"}return""},a.render.formatPrice=function(a,b){var c;return b||(b={}),0===a?c="免费":a?(c=(a/100).toFixed(2),c="¥"+c):c="",c},a.render.url=function(){function c(a){a+="";for(var b=[],c=0;c<a.length;c++)b.push(a.charCodeAt(c).toString(16).toUpperCase());return b.join("");
}function f(a,b,c,d){return a?"tencent://"+a+"/?subcmd="+b+"&param="+c+(d?"&fuin="+d:""):""}function g(a,b,d,e){return a?(d=c(d),f(a,b,d,e)):""}function h(b,c){var d,e,f;switch(b){case"all":d="groupwpa",e="all",f='{"groupUin":'+c.gc+', "timeStamp":1383552440}';break;case"OpenGroup":d="groupwpa",e="OpenGroup";var h=c.appId||0;f='{"ExtParam":{"appId":'+h+'},"groupUin":'+c.guin+',"visitor":1}';break;case"VisitPublicGroup":d="VisitPublicGroup",e="VisitPublicGroup",f='{"ExtParam":{"appId":"0"},"groupUin":'+c.gc+',"visitor":1}';break;case"CourseLive":d="VisitPublicGroup",e="VisitPublicGroupEx",f='{"ExtParam":{"appId":"21","appParam":"{\\"CourseId\\":'+c.courseId+'}"},"groupUin":'+c.gc+',"visitor":1}'}if(d){var i=a.cookie.uin()||void 0;return g(d,e,f,i)}return""}function i(){var a=-1;try{if(window.ActiveXObject){var b=new ActiveXObject("SSOAxCtrlForPTLogin.SSOForPTLogin2"),c=b.CreateTXSSOData();b.InitSSOFPTCtrl(0,c);var d=b.CreateTXSSOData(),e=b.DoOperation(2,d),f=e.GetArray("PTALIST");a=f.GetSize()}else if(navigator.mimeTypes["application/nptxsso"]){var g=document.createElement("embed");g.type="application/nptxsso",g.style.width="0px",g.style.height="0px",document.body.appendChild(g),g.InitPVANoST()&&(a=g.GetPVACount())}}catch(h){}return a}return{live:function(c,f){f||(f={});var g=a(c);if(d.isWeixinUser()){var h=g.data("cid"),i=g.data("aid"),j=g.data("tid");return void window.open("/qqlive/index.html?course_id="+h+"&aid="+i+"&term_id="+j)}var k=g.data("target"),l=g.data("type"),m=0===k.indexOf("tencent"),n=navigator.platform,o=!n||"Win32"===n||"Win64"===n||"Windows"===n;if(g.attr("href","javascript:void(0);"),m){if(!b.isLogin())return void b.show({succ:function(){a(document).trigger("loginSucc"),setTimeout(function(){g.click()},200)}});if(k=k.replace(/(&)?fuin=(\d)*/,""),o){var p=e();if(p>0&&5353>p){if(4!=l)return a.render.showEnterRoomFailureTips(),void Badjs("普通直播课且客户端版本不支持",location.href,0,473916,2);k="http://ke.qq.com/qqlive/index.html?course_id="+g.data("cid")+"&term_id="+g.data("tid")+"&aid="+g.data("aid"),m=!1}}else k="http://ke.qq.com/qqlive/index.html?course_id="+g.data("cid")+"&term_id="+g.data("tid")+"&aid="+g.data("aid"),m=!1}if(m){var q=a.cookie.uin();k.indexOf("fuin")<0&&q&&(k=k+"&fuin="+q),k+="&st="+(new Date-0),f.newcard?a(document).trigger("openQQClientLiveNew",[c]):a(document).trigger("openQQClientLive",[c])}window.open(k,m?"_self":"_blank")},enterAgencyHall:function(c){var d=a(c).attr("data-target");if(a(c).attr("href","javascript:void(0);"),a.bom.checkPlatform()){if(!b.isLogin())return void b.show({succ:function(){a(document).trigger("loginSucc"),setTimeout(function(){a(c).click()},200)}});0===i()&&(d=d.replace(/(&)?fuin=(\d)*/,"")),a(document).trigger("enterAgencyHall",[c]);var e=a.cookie.uin();d.indexOf("fuin")<0&&e&&(d=d+"&fuin="+e),d+="&st="+(new Date-0),window.open(d,"_self")}},liveForOpenRoom:function(b,c){var d=a(b).attr("data-target"),e=0===d.indexOf("tencent");if(a(b).attr("href","javascript:void(0);"),!e||a.bom.checkPlatform()){if(e&&0===i()&&(d=d.replace(/(&)?fuin=(\d)*/,"")),d.indexOf("fuin")<0){var f=a.cookie.uin();f&&(d+="&fuin="+f,a(b).attr("href",d))}e&&!c&&a(document).trigger("openQQClientLive",[b]),window.open(d,e?"_self":"_blank")}},discuss_old:function(a,b,c){var d=!0;return d=c.is_member?!1:c.is_pub&&c.guin?!0:!1,d?h("openGroup",{guin:c.guin}):h("all",{gc:b})},discuss:function(a,b,c){var d=!0;return c&&c.is_member&&(d=!1),d?h("VisitPublicGroup",{gc:b}):h("all",{gc:b})},course_pay:function(a){return"http://ke.qq.com/cgi-bin/courseDetail?course_id="+a+"&pay=1"},teacher_detail:function(a){return"http://ke.qq.com/cgi-bin/teacher?tid="+a},course_detail:function(a){return"http://ke.qq.com/cgi-bin/courseDetail?course_id="+a},video_play_page:function(a){return"http://ke.qq.com/cgi-bin/courseDetail?course_id="+a},agency_detail:function(a){return"http://ke.qq.com/cgi-bin/agency?aid="+a},agency_domain:function(a){return"http://"+a},getLoginQQNum:i}}(),a.render.courseTime=function(b){var c="";return b&&b.show_id?(1==b.show_id?c=a.render.courseTimeMode1(b):2==b.show_id?c=a.render.courseTimeMode2(b):3==b.show_id&&(c=a.render.courseTimeMode3(b)),1==b.filter_holiday&&(c+="(节假日除外)"),c):c},a.render.formatLiveTime=function(b,c){var d=a.render.time.formatDate("M月D日 hh:mm",1e3*b);return d+="-",new Date(1e3*b).getDate()!=new Date(1e3*c).getDate()&&(d+="次日"),d+=a.render.time.formatDate("hh:mm",1e3*c)},a.render.timeSpan=function(b,c){var d=[],e=function(a){return 10>a?"0"+a:a};b=b||[];for(var f=0,g=b.length;g>f;f++){var h=new Date(1e3*(c?b[f].bgtime:a.render.time.fixTimezone(b[f].bgtime,!0))),i=new Date(1e3*(c?b[f].endtime:a.render.time.fixTimezone(b[f].endtime,!0)));d.push([h.getHours()+":"+e(h.getMinutes()),"~",i.getHours()+":"+e(i.getMinutes()),i.getDate()!=h.getDate()?"(第二天)":""].join(""))}return d.join("、")},a.render.formatTimeSpan=function(b,c){var d=[],e=function(a){return 10>a?"0"+a:a};b=b||[];for(var f=0,g=b.length;g>f;f++){var h=new Date(1e3*(c?b[f].bgtime:a.render.time.fixTimezone(b[f].bgtime,!0)));d.push([h.getHours()+":"+e(h.getMinutes())].join(""))}return d.join("、")},a.render.number=function(a,b,c){a=parseInt(a,10)||0,b=parseInt(b,10),c="function"==typeof c?c:function(a,b){return'<span title="'+a+'"'+(a===b?"":' class="over-size"')+">"+b+"</span>"};var d=a;return b&&(d=a>=b?b-1+"+":a),c(a,d)},a.render.number_plus=function(a){return a=parseInt(a,10)||0,(a.toString().length>4?(a/1e4).toFixed(0)+"W":a.toString()).replace(/\.0+/,"")},a.render.formatTitle=function(a){return a=a||"",a.replace(/<br>/g,"\n")},a.render.formatAnalyzeTime=function(a,b,c,d){function e(a){return 1==a.toString().length?"0"+a:a}a=a||0,c=c||"";var f=new Date;f.setDate(f.getDate()+a);var g=e(f.getFullYear()),h=e(f.getMonth()+1),i=e(f.getDate());return d?h+c+i:g+c+h+c+i},a.render.cgiErrorWording=function(){return'    <div class="section-msg">                        <div class="msg-inner">                            <i class="icon-msg-large icon-font i-info"></i>                            <div class="msg-text">服务器异常，请稍后再试!</div>                        </div>                    </div>'},a.render.showEnterRoomFailureTips=function(){var b='<div class="modal-live-guide clearfix">            <div class="module-live-t clearfix">                <h3 class="live-guide-title">课堂还没打开？快试试下面的修复方法</h3>            </div>            <div class="guide-hint">                <p class="guide-hint-p">1. 浏览器是否有加载提示？若有请点击允许</p>                <p class="guide-hint-p">2. 确认已安装最新版QQ[<a href="http://im.qq.com/pcqq" target="_blank" class="nor-link">点击下载</a>]。若新装了<br>&nbsp;&nbsp;&nbsp;&nbsp;QQ，请重启浏览器。</p>                <p class="guide-hint-p">3. 从QQ客户端进入课堂，入口如右图所示</p>            </div>            <div class="guide-pic"></div>        </div>';a.Dialog.alert(b,{title:"提示",confirmText:"我知道了",globalClass:"live-guide-tips"})},a.render.courseFlags=function(b,c,d,e){var f=0,g=[];if(a.isArray(b)){var h=b.length;f=Math.min(c,h);for(var i=0;f>i;i++)a.trim(b[i].name).length>0&&g.push('<a class="flags-item flags-item-'+b[i].id+'" data-id="'+b[i].id+'" href="javascript:;" title="'+b[i].name+'">'+strEllipsis.substring(b[i].name,84,1)+'<i class="flags-close">&times;</i></a>')}return d&&c>f&&g.push('<a class="flags-add" href="javascript:;"'+(e?' auto-test="'+e+'"':"")+'><i class="plus">+</i>添加</a>'),g.join("")},a.render.orderCourseStateMap=function(a){var b="";switch(a){case 4:b="报名失败";break;case 1:case 5:b="报名成功";break;case 2:case 3:case 6:case 7:b="订单确认中";break;case 8:case 9:b="退款中";break;case 10:b="退款完成";break;case 11:b="退款失败"}return b},a.render.orderStateMap=function(a){var b=["","待付款","付款确认中","已付款","","退款中","已退款"];return b[a]||""},a.render.settlemenStateMap=function(a){var b="";switch(a){case 1:b="结算中";break;case 2:b="已结算";break;case 3:b="未结算";break;case 4:b="无需结算"}return b},a.render.fixImageWidth=function(a,b){return a+(a.indexOf("/eth/")>-1?b:"")},a._toArray=function(b,c){if(a.isArray(b))return b;try{return c&&(b=html.decode(b)),b=JSON.parse(b),a.isArray(b)?b:[]}catch(d){return[]}},a.render.number_cn=function(a,b){b=b||1;var c=[],d=["","十","百","千"],e="零一二三四五六七八九十";for(a=Math.max(parseInt(a,10)||b,b).toString().split("");a.length;){var f=parseInt(a.shift(),10);c.push(e.charAt(f)+(0===f?"":d[a.length]))}return c.join("").replace(/^一(十)|零+$/g,"$1")},a}),define("commonTemplate/common/agency_list",[],function(){return function(it,opt){with(it=it||{}){var _$out_=[];return $.each(agencys,function(a,b){_$out_.push('<li class="business-item"><a target="_blank" href="http://',b.agency_domain,'" class="business-a" title="',b.agency_name,'"><img lazy-src="',b.agency_url,'" /><span class="border"></span></a></li>')}),_$out_.join("")}}}),define("commonTemplate/common/card_list",[],function(){return function(it,opt){with(it=it||{}){var _$out_=[];_$out_.push('<ul class="mod-course-card_list"> ');for(var i=0,len=items.length;len>i;i++){var courseURL,item=items[i];item.activity_label=item.activity_label||[],"undefined"==typeof item.course_id&&(item.course_id=item.id),courseURL=2!==item.type?"http://ke.qq.com/cgi-bin/courseDetail?course_id="+item.course_id:opt&&opt.show_last_lesson?"http://ke.qq.com/cgi-bin/courseDetail?course_id="+item.course_id+"&chapter="+(item.last_lesson.lesson-1):"http://ke.qq.com/cgi-bin/courseDetail?course_id="+item.course_id,"undefined"==typeof item.activity_label&&(item.activity_label=[]),""===item.activity_label&&(item.activity_label=[]),_$out_.push(' <li class="mod-course-card__item"> <div class="mod-course-card',2===item.type?" mod-course-card_lu":"",'"> <a href="',courseURL,'" target="_blank" class="mod-course-card__link-img" data-id="',item.course_id,'" data-index="',i+1,'" report-tdw="action=classclk"> <img src="',item.cover_url,'220" alt="',item.name,'" title="',item.name,'" class="mod-course-card__img" width="220" height="124"/> '),opt&&opt.show_last_lesson&&_$out_.push(' <div class="mod-cur-lesson">已观看到第',item.last_lesson.lesson,"节</div> "),_$out_.push(' </a> <div class="course-title"> '),item.activity_label.forEach(function(a){a.icon_url&&_$out_.push(' <a class="icon_label" href="',a.activity_url,'" target="_blank" title="',a.name,'"><img src="',a.icon_url,'" width="12px" height="12px" /></a> ')}),_$out_.push(' <a href="http://ke.qq.com/cgi-bin/courseDetail?course_id=',item.course_id,'" target="_blank" class="mod-course-card__name" title="',item.name,'" data-id="',item.course_id,'" data-index="',i+1,'" report-tdw="action=classclk">',item.name,'</a> </div> <p class="mod-course-card__line"> <span class="mod-course-card__price',0===item.price?" mod-course-card__price_free":"",'">',$.render.formatPrice(item.price),"</span> "),opt.hidden_agency_info?(_$out_.push(" "),2==item.type&&item.see_num?_$out_.push(' <i class="icon-sep"></i><span class="mod-course-card__apply-num">',item.see_num+"人观看","</span> "):item.apply_num&&_$out_.push(' <i class="icon-sep"></i><span class="mod-course-card__apply-num">',item.apply_num+(item.price>0?"人购买":"人报名"),"</span> "),_$out_.push(" ")):(_$out_.push(' <i class="icon-sep"></i> '),opt&&opt.show_group?_$out_.push(' <a href="javascript:void(0);" data-cid="',item.course_id,'" data-gc="',item.group_id,'" class="mod-course-card__group js-group-entrance" title="',item.group_name,"(",item.group_id,')"><i class="icon-qun"></i><span class="mod-course-card__gn">学友群聊(',item.group_id,")</span></a> "):_$out_.push(' <a href="http://',item.agency_domain,'" target="_blank" class="mod-course-card__agency" title="',item.agency_name,'">',item.agency_name,"</a> "),_$out_.push(" ")),_$out_.push(" </p> </div> </li> ")}return _$out_.push("</ul>"),_$out_.join("")}}}),define("commonTemplate/common/card_list_new",[],function(){return function(it,opt){with(it=it||{}){var _$out_=[];_$out_.push('<ul class="course-card-list">'),opt||(opt={});var userAgent=navigator.userAgent.toLowerCase(),isSupportWebp=!1;(-1!=userAgent.indexOf("chrome")||-1!=userAgent.indexOf("opear"))&&(isSupportWebp=!0);for(var i=0,len=course_list.length;len>i;i++){var bgTime,courseURL,course_score_str,apply_num_str,item=course_list[i],now=new Date,cardPos=null,isToday=!1,isClassOn=!1;item.sub_bgtime&&(bgTime=new Date(1e3*item.sub_bgtime),bgTime.getFullYear()===now.getFullYear()&&bgTime.getMonth()===now.getMonth()&&bgTime.getDate()===now.getDate()&&(isToday=!0)),apply_num_str=item.apply_num<1e4?item.apply_num:item.apply_num>=1e4&&item.apply_num<1e8?Math.floor(item.apply_num/1e4)+"万":Math.floor(item.apply_num/1e8)+"亿",now/1e3>item.sub_bgtime&&now/1e3<item.sub_endtime&&(isClassOn=!0),"undefined"==typeof item.course_id&&(item.course_id=item.id),item.course_id?item.course_id=item.course_id:item.id?item.course_id=item.id:item.course_id=item.cid,void 0===item.curr_lesson&&(item.curr_lesson=item.cur_lesson),"undefined"==typeof item.room_url&&(item.room_url=item.room_url_4client),courseURL="http://ke.qq.com/cgi-bin/courseDetail?course_id="+item.course_id,course_score_str=Math.floor(item.course_score/100)+"."+Math.floor(item.course_score%100/10),opt.cardPos&&(cardPos=opt.cardPos+"."+(i+1)),_$out_.push(' <li class="course-card-item',isClassOn&&!opt.simplify?" now":"",'"'),opt.fIndex&&_$out_.push(' jump-start="topfloor_class_click" jump-through="',opt.fIndex,"&",opt.sIndex,"&",i+1,'"'),_$out_.push('> <a href="',courseURL,'" target="_blank" class="item-img-link" data-id="',item.course_id,'" data-index="',i+1,'" report-tdw="action=Coursecard_Coursecover-clk&ver1=',item.course_id,"&ver3=",cardPos,'"> '),opt.lazyload?_$out_.push(' <img lazy-src="',item.cover_url,'220" alt="',item.name,'" title="',item.name,'" class="item-img" width="220" height="124"/> '):(_$out_.push(" "),isSupportWebp?_$out_.push(' <img src="',item.cover_url,'220?tp=webp" alt="',item.name,'" title="',item.name,'" class="item-img" width="220" height="124" onerror="this.src=\'',item.cover_url,"';this.onerror=null;\"/> "):_$out_.push(' <img src="',item.cover_url,'220" alt="',item.name,'" title="',item.name,'" class="item-img" width="220" height="124" onerror="this.src=\'http://9.url.cn/edu/common/img/src/img-err2.png\';this.onerror=null;"/> '),_$out_.push(" ")),_$out_.push(" </a> "),isClassOn&&!opt.simplify&&_$out_.push(' <a class="item-now-link js-open-tencent" href="javascript:void(0);" data-tid="',item.term_id,'" data-aid="',item.agency_id,'" data-cid="',item.course_id,'" data-type="',item.type,'" data-target="',item.room_url,'"',0===item.room_url.indexOf("http")?' target="_blank"':"",' report-tdw="action=Coursecard_Courseenter-clk&ver1=',item.course_id,"&ver3=",cardPos,'">进入课堂<span class="icon-font i-v-right"></span></a> '),_$out_.push(" "),item.activity_label&&0!==item.activity_label.length&&item.activity_label[0].icon_url&&_$out_.push(' <a href="',item.activity_label[0].activity_url,'" title="',item.activity_label[0].name,'" class="item-activity" target="_blank"><img src="',item.activity_label[0].icon_url,'"/></a> '),_$out_.push(' <h4 class="item-tt"> <a href="',courseURL,'" target="_blank" class="item-tt-link" title="',item.name,'" report-tdw="action=Coursecard_Coursesname-clk&ver1=',item.course_id,"&ver3=",cardPos,'">',item.name,"</a> </h4> "),opt.simplify||(_$out_.push(' <div class="item-line"> '),isClassOn&&_$out_.push(' <span class="line-cell item-time item-time--now">正在上课</span> '),_$out_.push(' <span class="line-cell item-user"> <i class="icon-font i-user-border"></i>',apply_num_str,' </span> <span class="line-cell item-star-num"> <i class="icon-font i-star-border"></i>',course_score_str," </span> </div> ")),_$out_.push(' <div class="item-line"> <span class="line-cell item-price',0===item.price?" free":"",'">',$.render.formatPrice(item.price),"</span> "),opt.noAgency||_$out_.push(' <i class="icon-sep"></i> <span class="item-source"> <a href="http://',item.agency_domain,'" target="_blank" class="item-source-link" title="',item.agency_name,'" report-tdw="action=Coursecard_Courseregister-clk&ver1=',item.course_id,"&ver3=",cardPos,'">',item.agency_name,"</a> </span> "),_$out_.push(" </div> </li>")}return _$out_.push("</ul>"),_$out_.join("")}}}),define("commonTemplate/common/clientShare",[],function(){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push('<div class="count-down-ctn"><p class="count-down-tips"><span class="count-down-got"></span><span class="count-down-count">5</span>秒后为您打开客户端</p><p>如果跳转失败，请<a href="',url,'" data-target="',url,'" class="count-down-manual nor-link">手动进入</a></p></div>'),_$out_.join("")}}}),define("commonTemplate/common/comments",[],function(){return function(it,opt){with(it=it||{}){for(var _$out_=[],label=["很不满意","不满意","一般","满意","很满意"],i=0;i<rows.comments.length;i++){var row=rows.comments[i],comment2="";row.comment||(comment2+="课程与描述相符",comment2+=label[row.quality_rating-1],comment2+="、老师的讲解表达",comment2+=label[row.level_rating-1],comment2+="、老师的课前服务",comment2+=label[row.attitude_rating-1]),_$out_.push('<tr > <td> <div class="mo-comments-list__col-1"> <div class="mod-comments-list__img" > <img lazy-src="http://q.qlogo.cn/g?b=qq&nk=',row.uin,'&s=40" src="" height="40px" width="40px"> </div> <div class="mod-comments-list__name"> ',row.nick_name,' </div> </div> </td> <td> <div class="mod-comments-list-item"> <div class="mod-comments-list-item__title"> ',ext.renderStar(row),' </div> <div class="mod-comments-list-item__date"> ',ext.timeRender(new Date(1e3*row.time)),' </div> <div class="clear"></div> <div class="mod-comments-list-item__content"> ',(row.comment||comment2+"").replace(/<br\/?>/gi,"")," </div> "),"undefined"!=typeof rows.course_name&&_$out_.push(' <p class="mod-comments-list-item__bottom"> 来自<a target="_blank" href="http://ke.qq.com/cgi-bin/courseDetail?course_id=',rows.course_id,'">《',rows.course_name,"》</a> </p> "),_$out_.push(" </div> </td></tr>")}return 0==rows.comments.length&&_$out_.push('<tr class="no-data"> <td></td> <td style="text-align: center;position: relative;left:-25px;">暂无评论</td></tr>'),_$out_.join("")}}}),define("commonTemplate/common/course_list",[],function(){return function(it,opt){with(it=it||{}){for(var _$out_=[],srv_time="undefined"!=typeof server_time?server_time:parseInt(new Date/1e3),page_from="undefined"!=typeof __from__?__from__:"",i=0,len=items.length;len>i;i++){var item=items[i],time=item.time,endtime=item.endtime,sub_bgtime=item.sub_bgtime||time,sub_endtime=item.sub_endtime||endtime,is_live=srv_time>=sub_bgtime&&sub_endtime>srv_time,is_over=srv_time>=sub_endtime,is_free=(2==item.type,0==item.price),hasBtn=2!=item.type&&is_live&&is_free;if(_$out_.push('<li class="mlm-item js-course-item"> <div class="course-card ',"agencyIndex"==page_from||"qqlive"==page_from?"course-card-for-agency":""," ",hasBtn?"":"course-card-nobtn",'"> '),2==item.type?_$out_.push(' <div class="course-face js-course-cover" ',"undefined"!=typeof tdws&&tdws.record_p&&'report-tdw="action='+tdws.record_p+"&ver1="+item.id+'"',"> "):_$out_.push(' <div class="course-face js-course-cover" ',"undefined"!=typeof tdws&&tdws.p&&'report-tdw="action='+tdws.p+"&ver1="+item.id+'"',"> "),_$out_.push(' <a href="',$.render.url[2==item.type?"video_play_page":"course_detail"](item.id),'" target="_blank" title="',item.name,'" data-cid="',item.id,'"> <img width="222" height="125" lazy-src="',item.cover_url,'222" /> <span class="border"></span> </a> '),2!=item.type){_$out_.push(' <span class="course-time"> ');var state;state=is_over?"已结束":is_live?"正在上课":"live"==page_from?'倒计时：<span class="leave-time">'+$.render.time.fromStartTime(sub_bgtime,srv_time)+"</span>":$.render.time.format(sub_bgtime,1,srv_time),_$out_.push(" ",state," </span> ")}_$out_.push(' </div> <div class="course-title"> '),2==item.type?_$out_.push(' <a href="',$.render.url.course_detail(item.id),'" target="_blank" title="',item.name,'" class="js-course-name" data-cid="',item.id,'" ',"undefined"!=typeof tdws&&tdws.record_t&&'report-tdw="action='+tdws.record_t+"&ver1="+item.id+'"',">",item.name,"</a> "):_$out_.push(' <a href="',$.render.url.course_detail(item.id),'" target="_blank" title="',item.name,'" class="js-course-name" data-cid="',item.id,'" ',"undefined"!=typeof tdws&&tdws.t&&'report-tdw="action='+tdws.t+"&ver1="+item.id+'"',">",item.name,"</a> "),_$out_.push(' </div> <div class="course-emphasis"> <span class="course-price"> ',$.render.price(item.price),' </span> <span class="course-num"> '),2==item.type?_$out_.push(" ",item.see_num?item.see_num+"人观看":""," "):_$out_.push(" ",item.apply_num?item.apply_num+(item.price>0?"人购买":"人报名"):""," "),_$out_.push(' </span> </div> <a class="course-agency nor-link" href="',$.render.url.agency_domain(item.agency_domain),'" title="',item.agency_name,'" target="_blank"> <span class="course-agency-icon"> <img width="20" height="20" lazy-src="',item.agency_cover_url,'" /> <span class="border"></span> </span> <span class="course-agency-name">',item.agency_name,"</span> </a> "),is_live&&is_free&&2!=item.type&&_$out_.push("<a href='",item.room_url,"' data-type=\"",item.type,'" data-aid="',item.agency_id,'" data-target="',item.room_url,'" onclick="$.render.url.live(this);" ',0==(item.room_url||"").indexOf("http")?'target="_blank"':"",' class="btn-primary course-btn js-course-enter" data-cid="',item.id,'" data-tid="',item.term_id||"",'" ',"undefined"!=typeof tdws&&tdws.enter&&'report-tdw="action='+tdws.enter+"&ver1="+item.id+'"',">进入课堂</a>"),_$out_.push(" </div></li>")}return _$out_.join("")}}}),define("commonTemplate/common/grid",[],function(){return function(it,opt){with(it=it||{}){var _$out_=[];if(_$out_.push('<div id="',tableId,'" class="grid-wrap ',tableClass,'"> '),headers&&headers.length>0){_$out_.push(' <table cellpadding="0" cellspacing="0" class="grid-header-bg" > <thead> <tr> ');for(var i=0;i<headers.length;i++){var widthStr=headers[i].width?'style="width:'+headers[i].width+'"':"",className=headers[i].className||"";_$out_.push(' <th class="grid-header-',i+1," ",className,'" ',widthStr," ><span>",headers[i].name,"</span></th> ")}_$out_.push(" </tr> </thead> </table> ")}return _$out_.push(' <div class="grid-data-wrap"> <table cellpadding="0" cellspacing="0" class="grid-data" > <tbody> </tbody> </table> <div class="loading-wrap"></div> </div> <div class="grid-page-wrap sort-page"> </div></div>'),_$out_.join("")}}}),define("commonTemplate/common/grid_data",[],function(){return function(it,opt){with(it=it||{}){for(var _$out_=[],i=0;i<rows.length;i++){_$out_.push("<tr> ");for(var j=0;j<rows[i].length;j++)_$out_.push(' <td style="width:',colWidth[i],'px">',td[i][j],"</td> ");_$out_.push("</tr>")}return _$out_.join("")}}}),define("commonTemplate/common/modal",[],function(){return function(it,opt){with(it=it||{}){var _$out_=[];if(_$out_.push('<div class="tips'),dialog.globalClass&&_$out_.push(" ",dialog.globalClass,""),_$out_.push('"> '),dialog.nohead||_$out_.push(' <div class="tips-hd">',dialog.title,"</div> "),_$out_.push(" "),dialog.body)_$out_.push(" ",dialog.body," ");else{if(_$out_.push(' <div class="tips-bd"> '),dialog.type){var ico_type={err:"alert",warn:"info",succ:"success",help:"question"}[dialog.type]||"info";_$out_.push(' <i class="icon-msg-large icon-font i-',ico_type,'"></i> <p class="msg">',dialog.content,"</p> ")}else _$out_.push(" ",dialog.content," ");_$out_.push(' </div> <div class="tips-tool"> '),dialog.confirm?(_$out_.push(' <a auto-test="confirm-',id,'" href="#" title="',dialog.submit||"确定",'" class="btn-7 modal-accept'),dialog.extraClass&&_$out_.push(" ",dialog.extraClass,""),dialog.isDisabled&&_$out_.push(" btn-disabled"),_$out_.push('">',dialog.submit||"确定",'</a> <a auto-test="cancel-',id,'" href="#" title="取消" class="btn-8 modal-cancel">',dialog.cancel||"取消","</a> ")):_$out_.push(' <a auto-test="confirm-',id,'" href="#" title="',dialog.confirmText||"确定",'" class="btn-7 modal-accept">',dialog.confirmText||"确定","</a> "),_$out_.push(" </div> ")}return _$out_.push(' <a auto-test="close-',id,'" href="#" class="modal-close btn-close" title="关闭">×</a></div>'),_$out_.join("")}}}),define("commonTemplate/common/more_agency",[],function(){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push('<div class="market-hd" style="padding-left:15px;margin-bottom:21px;"><span class="title">合作机构</span><a href="/agency/join/index.html" target="_blank" class="more">机构入驻</a></div><div class="hz-menu-bd"> <a href="javascript:void(0)" class="prev-btn dis icon-font i-v-left" title="上一页" id="js_agency_prev" style="display:none">上一页</a> <a href="javascript:void(0)" class="next-btn icon-font i-v-right" class="下一页" id="js_agency_next" style="display:none">下一页</a> <div class="hz-menu-bd-inner slider" id="js_agency_cnt"> <ul class="business-list sliderbox" id="js_agency_list" style="width:3680px;"> '),TmplInline_common.agency_list({agencys:agencys}),_$out_.push(' </ul> <div class="clear"></div> </div></div>'),_$out_.join("")}}}),define("commonTemplate/common/page",[],function(){return function(it,opt){with(it=it||{}){var _$out_=[];if(total>1){_$out_.push(" ");var index="undefined"!=typeof idx?idx:1,isFirst=1==index?!0:!1,isLast=index==total?!0:!1,from=parseInt(index-max/2),to=parseInt(index+max/2);(2==from||to==total-2)&&(max+=2);var pager_id="pager_id_"+Math.random().toString().replace(/\D/g,"");if(_$out_.push(" "),total-2<=max){_$out_.push(' <div class="page-box"> <a auto-test="',pager_id,'_prev" href="javascript:void(0);" class="page-prev-btn '),isFirst&&_$out_.push("page-btn-dis"),_$out_.push('"><i class="icon-font i-v-left"></i></a> ');for(var i=1,len=total;len>=i;i++)_$out_.push(' <a auto-test="',pager_id,"_",i,'" href="javascript:void(0);" data-index="',i,'" class="page-btn'),1==i&&_$out_.push(" page-first"),i==len&&_$out_.push(" page-last"),i==index&&_$out_.push(" page-btn-cur"),_$out_.push('">',i,"</a> ");_$out_.push(' <a auto-test="',pager_id,'_next" href="javascript:void(0);" class="page-next-btn '),isLast&&_$out_.push("page-btn-dis"),_$out_.push('"><i class="icon-font i-v-right"></i></a> </div> ')}else{if(_$out_.push(" "),from>2&&to<total-2){_$out_.push(' <div class="page-box"> <a auto-test="',pager_id,'_prev" href="javascript:void(0);" class="page-prev-btn '),isFirst&&_$out_.push("page-btn-dis"),_$out_.push('"><i class="icon-font i-v-left"></i></a> <a auto-test="',pager_id,'_1" href="javascript:void(0);" data-index="1" class="page-btn page-first">1</a> <a auto-test="',pager_id,'_2" href="javascript:void(0);" data-index="2" class="page-btn">2</a> <span>…</span> ');for(var i=from,len=total;to>i;i++)_$out_.push(' <a auto-test="',pager_id,"_",i+1,'" href="javascript:void(0);" data-index="',i+1,'" class="page-btn'),i+1==index&&_$out_.push(" page-btn-cur"),_$out_.push('">',i+1,"</a> ");_$out_.push(' <span>…</span> <a auto-test="',pager_id,"_",len-1,'" href="javascript:void(0);" data-index="',len-1,'" class="page-btn">',len-1,'</a> <a auto-test="',pager_id,"_",len,'" href="javascript:void(0);" data-index="',len,'" class="page-btn page-last">',len,'</a> <a auto-test="',pager_id,'_next" href="javascript:void(0);" class="page-next-btn"><i class="icon-font i-v-right"></i></a> </div> ')}else{if(_$out_.push(' <div class="page-box"> '),2>=from){_$out_.push(' <a auto-test="',pager_id,'_prev" href="javascript:void(0);" class="page-prev-btn '),isFirst&&_$out_.push("page-btn-dis"),_$out_.push('"><i class="icon-font i-v-left"></i></a> ');for(var i=1,len=total;i<=Math.max(max,to);i++)_$out_.push(' <a auto-test="',pager_id,"_",i,'" href="javascript:void(0);" data-index="',i,'" class="page-btn'),1==i&&_$out_.push(" page-first"),i==len&&_$out_.push(" page-last"),i==index&&_$out_.push(" page-btn-cur"),_$out_.push('">',i,"</a> ");_$out_.push(' <span>…</span> <a auto-test="',pager_id,"_",len-1,'" href="javascript:void(0);" data-index="',len-1,'" class="page-btn">',len-1,'</a> <a auto-test="',pager_id,"_",len,'" href="javascript:void(0);" data-index="',len,'" class="page-btn page-last">',len,'</a> <a auto-test="',pager_id,'_next" href="javascript:void(0);" class="page-next-btn"><i class="icon-font i-v-right"></i></a> ')}if(_$out_.push(" "),to>=total-2){_$out_.push(' <a auto-test="',pager_id,'_1" href="javascript:void(0);" class="page-prev-btn '),isFirst&&_$out_.push("page-btn-dis"),_$out_.push('"><i class="icon-font i-v-left"></i></a> <a auto-test="',pager_id,'_prev" href="javascript:void(0);" data-index="1" class="page-btn page-first">1</a> <a auto-test="',pager_id,'_2" href="javascript:void(0);" data-index="2" class="page-btn">2</a> <span>…</span> ');for(var i=Math.min(from,total-max),len=total;i<total;i++)_$out_.push(' <a auto-test="',pager_id,"_",i+1,'" href="javascript:void(0);" data-index="',i+1,'" class="page-btn'),i==index-1&&_$out_.push(" page-btn-cur"),i==total-1&&_$out_.push(" page-last"),_$out_.push('">',i+1,"</a> ");_$out_.push(' <a auto-test="',pager_id,'_next" href="javascript:void(0);" class="page-next-btn '),isLast&&_$out_.push("page-btn-dis"),_$out_.push('"><i class="icon-font i-v-right"></i></a> ')}_$out_.push(" </div> ")}_$out_.push(" ")}}return _$out_.join("")}}}),define("commonTemplate/common/picker",[],function(){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push('<div class="mod-picker mod-picker_qq js-picker-course" id="',id,'"><div class="mod-picker__hd"><h2 class="mod-picker__hd-title">选择',title,'</h2><a href="javascript:;" class="mod-picker__close">x</a></div><div class="mod-picker__bd"><div class="mod-picker__data-options"><h3 class="mod-picker__list-title">选择',title,'：</h3><div class="mod-picker__cont"><input type="text" placeholder="输入关键字或拼音进行筛选" class="mod-picker__input" /><ul class="mod-picker__options-ul"></ul></div></div><div class="mod-picker__action-btns"><a href="javascript:;" class="btn-add btn-weak disabled">添加</a><a href="javascript:;" class="btn-del btn-weak disabled">删除</a><span class="mod-picker__tips">支持选择<i class="mod-picker__max"></i>',limit,"",unit,"",title,'</span></div><div class="mod-picker__data-selected"><h3 class="mod-picker__list-title">已选择',title,'：</h3><div class="mod-picker__cont"><ul class="mod-picker__selected-ul"></ul></div></div></div><div class="mod-picker__ft"><span class="picker-help"></span><a href="javascript:;" class="btn-default btn-save">确定</a></div></div>'),_$out_.join("")}}}),define("commonTemplate/common/pickerList",[],function(){return function(it,opt){with(it=it||{}){for(var _$out_=[],i=0,len=items.length;len>i;i++)_$out_.push('<li class="select-li js-select-li" data-cid="',items[i].id,'" title="',items[i].name,'"><span class="select-li-name">',items[i].name,"</span></li>");return _$out_.push('<li class="select-li-loading js-select-loading">数据加载中…</li>'),_$out_.join("")}}}),define("commonTemplate/common/pickerMain",[],function(){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push('<div class="mod-picker mod-picker_qq js-picker-course" id="',id,'"><div class="mod-picker__hd"><h2 class="mod-picker__hd-title">选择',title,'</h2><a href="javascript:;" class="mod-picker__close">x</a></div><div class="mod-picker__bd"><div class="mod-picker__data-options"><h3 class="mod-picker__list-title">选择',title,'：</h3><div class="mod-picker__cont"><input type="text" placeholder="输入关键字或拼音进行筛选" class="mod-picker__input" /><ul class="mod-picker__options-ul js-options"><li class="select-li-loading js-select-loading">数据加载中…</li></ul></div></div><div class="mod-picker__action-btns"><a href="javascript:;" class="btn-add btn-weak disabled">添加</a><a href="javascript:;" class="btn-del btn-weak disabled">删除</a><span class="mod-picker__tips">支持选择<i class="mod-picker__max"></i>',limit,"",unit,"",title,'</span></div><div class="mod-picker__data-selected"><h3 class="mod-picker__list-title">已选择',title,'：</h3><div class="mod-picker__cont"><ul class="mod-picker__selected-ul js-selected"></ul></div></div></div><div class="mod-picker__ft"><span class="picker-help"></span><a href="javascript:;" class="btn-default btn-save">确定</a></div></div>'),_$out_.join("")}}}),define("commonTemplate/common/selectTerm",[],function(){return function(it,opt){with(it=it||{}){var _$out_=[];_$out_.push('<div class="mod-course-banner__other-time',data.terms.length<2?" mod-course-banner__other-time_none":"",'"> <i class="icon-calender-two-column"></i> <span>其他上课时间</span> <div class="mod-choose-time mod-choose-time_pop"> <i class="icon-triangle"></i> <ul> ');
for(var i=0,len=data.terms.length;len>i;i++)_terms=data.terms[i],_$out_.push(' <li data-idx="',i,'" data-termid="',_terms.tid,'" class="mod-choose-time__li',i==currentIdx?" mod-choose-time__li_current":"","",i==len-1?" mod-choose-time__li_last":"",'"> <i class="icon-corner-selected"></i> <i class="icon-font i-calender"></i> <span class="mod-choose-time__time" title="',_terms.parse_time,'">',_terms.parse_time,"</span> </li> ");return _$out_.push(" </ul> </div></div>"),_$out_.join("")}}}),define("commonTemplate/common/side_operation",[],function(){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push(''),_$out_.join("")}}}),define("commonTemplate/common/taskinfo",[],function(){return function(it,opt){function dealTime(a,b,c){return'<span class="tt-suffix">('+opt.formatDate("M月D日 hh:mm",1e3*a)+"-"+(new Date(1e3*b).getDate()-new Date(1e3*a).getDate()>=1?"次日":"")+opt.formatDate("hh:mm",1e3*b)+c+")</span>"}with(it=it||{}){var _$out_=[];opt.termInfo||(opt.termInfo={}),opt.termInfo.agency_info=opt.termInfo.agency_info||{};for(var k=0,len=taskList.length;len>k;k++){var curVid,vidTime,fileType,item=taskList[k],rowType=opt.rowType||"a",fontClass="",title="",suffixHTML="",hoverGuide=(+new Date,""),finishedTag=!1,linkTarget="javascript:void(0);",disabled=!1,process=null,action="",rightTips="";switch(item.type){case 1:switch(fontClass="i-course-live",title="直播",showSuffix=!0,item.status){case 1:action="enterRoom",suffixHTML=dealTime(item.bgtime,item.endtime,"");break;case 2:action="enterRoom",suffixHTML=dealTime(item.bgtime,item.endtime,""),hoverGuide="进入课堂",item.play_ts>0&&(finishedTag=!0);break;case 3:disabled=!0,suffixHTML='<span class="tt-suffix">('+opt.formatDate("M月D日",1e3*item.bgtime)+" 已结束)</span>",item.play_ts>0&&(hoverGuide="已完成",finishedTag=!0);break;case 4:action=null,curVid=item.latest_vid||item.resid_list[0],item.resid_ext.list||(item.resid_ext.list=[]),suffixHTML=dealTime(item.bgtime,item.endtime,"");for(var t=0,lenT=item.resid_ext.list.length;lenT>t;t++)curVid===item.resid_ext.list[t].id&&(vidTime=item.resid_ext.list[t].times);linkTarget="/webcourse/index.html#course_id={cid}&term_id={tid}&taid={taid}&vid={vid}".replace("{cid}",opt.termInfo.cid).replace("{tid}",opt.termInfo.term_id).replace("{vid}",curVid).replace("{taid}",item.taid),0===item.video_play?(suffixHTML+='<span class="flag-orange">有回放</span>',hoverGuide="立即学习",finishedTag=!0):item.video_play/vidTime<.85?item.play_ts>0?finishedTag=!0:(suffixHTML+='<span class="icon-playback"></span>',process={},process.desc=Math.ceil(item.video_play/60)+"分钟/"+Math.ceil(vidTime/60)+"分钟",process.rate=item.video_play/vidTime*100+"%",hoverGuide="继续学习"):(suffixHTML+='<span class="icon-playback"></span>',finishedTag=!0,hoverGuide="再学一遍")}break;case 2:fontClass="i-course-record",title="录播",linkTarget="/webcourse/index.html#course_id={cid}&term_id={tid}&taid={taid}&vid={vid}".replace("{cid}",opt.termInfo.cid).replace("{tid}",opt.termInfo.term_id).replace("{vid}",item.resid_list).replace("{taid}",item.taid),suffixHTML='<span class="tt-suffix">('+Math.ceil(item.resid_ext.times/60)+"分钟)</span>",item.play_ts>0?item.play_ts/item.resid_ext.times>=.85?(hoverGuide="再学一遍",finishedTag=!0):(hoverGuide="继续学习",process={},process.desc=Math.ceil(item.play_ts/60)+"分钟/"+Math.ceil(item.resid_ext.times/60)+"分钟",process.rate=item.play_ts/item.resid_ext.times*100+"%"):hoverGuide="立即学习";break;case 3:fontClass="i-course-data",title="资料",action="file",item.study_ts>0&&(finishedTag=!0),linkTarget=item.url?item.url:linkTarget;var tempArr=item.file_name.split(".");fileType=tempArr.length>1?tempArr[tempArr.length-1]:"",suffixHTML='<span class="tt-suffix">('+fileType+(fileType?"，":"")+item.file_size+")</span>",hoverGuide="下载学习";break;case 4:rowType="a",fontClass="i-course-test",title="习题",linkTarget="/exam/index.html?course_id={cid}&term_id={tid}&task_id={taid}&exam_id={eid}".replace("{eid}",item.resid_list).replace("{tid}",opt.termInfo.term_id).replace("{cid}",opt.termInfo.cid).replace("{taid}",item.taid),opt.uin&&(linkTarget+="&uin="+opt.uin),item.total=item.resid_ext&&item.resid_ext.list&&item.resid_ext.list[0]&&item.resid_ext.list[0].count,suffixHTML='<span class="tt-suffix">('+item.total+"道)</span>",item.update_ts?0===item.state?(process={},process.desc=item.count+"道/"+item.total+"道",process.rate=item.count/item.total*100+"%",hoverGuide="继续答题"):(hoverGuide="再答一遍",rightTips="正确率"+item.score+"%",finishedTag=!0):hoverGuide="立即答题","div"===opt.rowType&&(hoverGuide="查看成绩")}"a"===rowType?1===item.type&&4!==item.status?_$out_.push('<a class="task-task-item js-task-action js-open-tencent',finishedTag?" task-part-item--done":"","",disabled?" task-task-item--disabled":"",'" href="',linkTarget,'" target="_blank" data-resid="',item.resid_list,'" data-cid="',opt.termInfo.cid,'" data-taid="',item.taid,'" data-aid="',opt.termInfo.agency_info.aid,'" data-tid="',opt.termInfo.term_id,'" data-target="',opt.termInfo.room_url,'">'):_$out_.push('<a class="task-task-item js-task-action',finishedTag?" task-part-item--done":"","",disabled?" task-task-item--disabled":"",'" href="',linkTarget,'" target="_blank" data-action="',action,'" data-resid="',item.resid_list,'" data-cid="',opt.termInfo.cid,'" data-taid="',item.taid,'">'):_$out_.push('<div class="task-task-item js-task-action js-open-tencent',finishedTag?" task-part-item--done":"","",disabled?" task-task-item--disabled":"",'">'),_$out_.push('<i class="icon-font ',fontClass,' item-icon"></i><p class="task-tt"><span class="task-tt-text" title="【',title,"】",item.name,'">【',title,"】",item.name,"</span>",suffixHTML,'</p><div class="line-right">'),hoverGuide&&"a"===rowType&&_$out_.push('<span class="hover-guide">',hoverGuide,'<i class="icon-font i-v-right"></i></span>'),""!==rightTips&&_$out_.push('<span class="item-num-percent">',rightTips,"</span>"),finishedTag&&_$out_.push('<i class="icon-font i-right"></i>'),process&&_$out_.push('<span class="item-num-percent">',process.desc,'</span><span class="item-progress"><span class="percent" style="width:',process.rate,'"></span></span>'),_$out_.push("</div>"),"a"===rowType?_$out_.push("</a>"):_$out_.push("</div>")}return _$out_.join("")}}}),define("commonTemplate/common/userinfo",[],function(){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push('<div class="usercard"> <a class="user-head" href="',user.logoLink||"http://ke.qq.com/user/index/index.html#sid=course",'"> <img id="user-head" lazy-src="',user.logo,'"> <span class="border"></span> </a> <div class="user-name"> <a id="auto-test-userName" title="',user.nick_name,'" href="http://ke.qq.com/user/index/index.html#sid=course" target="_blank">',strEllipsis.substring(user.nick_name,100/14*12,1),'</a> </div> <div class="user-welcome">Hello，你好！</div></div>'),_$out_.join("")}}}),define("commonTemplate/common",["./common/agency_list","./common/card_list","./common/card_list_new","./common/clientShare","./common/comments","./common/course_list","./common/grid","./common/grid_data","./common/modal","./common/more_agency","./common/page","./common/picker","./common/pickerList","./common/pickerMain","./common/selectTerm","./common/side_operation","./common/taskinfo","./common/userinfo"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){return{agency_list:a,card_list:b,card_list_new:c,clientShare:d,comments:e,course_list:f,grid:g,grid_data:h,modal:i,more_agency:j,page:k,picker:l,pickerList:m,pickerMain:n,selectTerm:o,side_operation:p,taskinfo:q,userinfo:r}}),function(a,b){"function"==typeof define&&define.amd?define("dialog",["jquery","commonTemplate/common"],b):b(a.jQuery,a.TmplInline_common)}(this,function(a,b){var c="undefined"==typeof document.body.style.maxHeight;return a.Dialog={show:function(d){a(".modal-bg").length||a(document.body).append('<div class="modal-bg hide"></div>'),a(".modal-bg").show(),d=d||{};var e=a(a.trim(b.modal({dialog:d,id:("dialog_"+ +new Date+Math.random()).replace(/\W/g,"")}))).insertAfter(".modal-bg");a(".tips").css("marginTop","-"+parseInt(a(".tips").css("height"),10)/2+"px"),c&&(a(".modal-bg").css("height",a(document).height()),a(window).scrollTop(0)),a("body").css({"overflow-y":""});var f=a(".tips .modal-accept");return d.notAutoFocus&&f.focus(),d.onAccept&&f.on("click",function(b){b.preventDefault(),d.onAccept()||(a.Dialog.remove(),a.Dialog.reshow())}),d.onCancel&&a(".tips .modal-cancel").on("click",d.onCancel),d.onClose&&a(".tips .modal-close").on("click",d.onClose),e},remove:function(){a(".tips").remove(),a(".modal-bg").hide(),a(".js-modal-bg, .js-modal").remove()},alert:function(a,b){return this.remove(),1==arguments.length&&"object"==typeof a&&(b=a,a=b.content),b=b||{},b.content=a,b.type=b.type||"warn",b.title=b.title||"提示",b.globalClass=b.globalClass?b.globalClass+" alert-tips":"alert-tips",b.onAccept||(b.onAccept=function(){return!1}),this.show(b)},confirm:function(b,c){return c.keep?this.$tips=a(".tips").removeClass("tips").hide():this.remove(),c=c||{},c.content=b,c.confirm=void 0!==c.confirm?c.confirm:!0,c.title=c.title||"提示",c.globalClass=c.globalClass?c.globalClass+" alert-tips":"alert-tips",this.show(c)},showConfirm:function(a){return this.remove(),a=a||{},a.confirm=!0,a.title=a.title||"提示",a.content=a.content||"呵呵...",a.globalClass=a.globalClass?a.globalClass+" alert-tips":"alert-tips",this.show(a)},showWarn:function(a,b){return b=b||{},b.title="警告",b.type="warn",b.content=a,b.onAccept||(b.onAccept=function(){return!1}),this.show(b)},showSuccess:function(a,b){return b=b||{},b.title="成功提示",b.type="succ",b.content=a,b.globalClass=b.globalClass?b.globalClass+" alert-tips":"alert-tips",b.onAccept||(b.onAccept=function(){return!1}),this.show(b)},showError:function(a,b){return b=b||{},b.title="错误提示",b.type="err",b.content=a,b.globalClass=b.globalClass?b.globalClass+" alert-tips":"alert-tips",b.onAccept||(b.onAccept=function(){return!1}),this.show(b)},showRetry:function(b){a(".retry-dialog").remove(),a(".tips").hide();var c=this.show({title:"错误提示",submit:"重试",isDisabled:!1,retry:!0,globalClass:"retry-dialog",extraClass:"btn-retry",content:b||"呵呵..."}),d=this;return a(".btn-retry",".tips").on("click",function(a){a.preventDefault(),d.removeRetry()}),c},removeRetry:function(){return a(".retry-dialog").remove(),a(".tips").length?a(".tips").show():void a(".modal-bg").hide()},reshow:function(){this.$tips&&(this.$tips.addClass("tips").show(),a(".modal-bg").length||a(document.body).append('<div class="modal-bg hide"></div>'),a(".modal-bg").show(),this.$tips=null)},updatePosition:function(){var b=a(".tips");b.css("marginTop","-"+parseInt(b.css("height"),10)/2+"px")}},a(document).delegate(".tips .modal-cancel, .tips .modal-close","click",function(b){b.preventDefault(),a.Dialog.remove(),a.Dialog.reshow()}),a}),function(a,b){"function"==typeof define&&define.amd?define("modal",["jquery"],b):b(a.jQuery)}(this,function($){var isDebug=!0,modalIndex=0;$.template=function(tmpl,data){var evalExp=function(exp,scope){return function(){var __res;try{with(scope)__res=eval(exp)}catch(e){isDebug&&console.info('expression:"'+exp+'" undefined.')}return"undefined"==typeof __res?"":__res}.call(scope)},position=0,stacks=[!0],regexp=/\{if ([^\}]+)\}|\{\/if\}|\{else\}|\{else if ([^\}]+)\}/gi,res="";return tmpl.replace(regexp,function(a,b,c,d){var e=stacks.pop();return e&&(res+=tmpl.substr(position,d-position)),position=d+a.length,b?(stacks.push(e),stacks.push(e&&evalExp(b,data)?!0:!1),stacks.push(stacks[stacks.length-1])):c?stacks.push(stacks[stacks.length-1]?!1:evalExp(c,data)?!0:!1):/\{else\}/i.test(a)?stacks.push(stacks[stacks.length-1]?!1:!0):stacks.pop(),""}),stacks.pop()&&(res+=tmpl.substr(position)),tmpl=res,tmpl=tmpl.replace(/\{\$([^\{\}]+)\}/g,function(a,b){return evalExp(b,data)})};var templateBg='<div tabindex="-1" class="overlay js-modal-bg"></div>',templateModal='<div class="js-modal modal  {$className} {if icon}modal--msg{/if} {if scroll}modal--scroll{/if}" style="{if width}width:{$width}px;{/if}{if style}{$style}{/if}" >';templateModal+="{if !nohead}",templateModal+='  <div class="modal-hd"><h3 class="hd-tt js-modal-title">{$title}</h3><a href="javascript:void(0);" class="js-modal-close btn-close" title="关闭">×</a></div>',templateModal+="{/if}",templateModal+="{if !body}",templateModal+='  <div class="modal-bd {if padding}modal-bd--padding{/if}" style="{if height}height:{$height}px;{/if}">',templateModal+="  {if icon}",templateModal+='      <div class="bd-msg"><i class="icon-font icon-msg-large i-{$icon}"></i>',templateModal+='      <p class="msg-text">{$content}</p></div>',templateModal+="  {else}",templateModal+="      {$content}",templateModal+="  {/if}",templateModal+="  </div>",templateModal+='  <div class="modal-ft">',templateModal+='  <a href="javascript:void(0);" title="{$txtYes}" class="js-modal-yes btn-default {if !enableYes} btn-disabled{/if}" {if !isYes}style="display:none;"{/if}>{$txtYes}</a>',templateModal+="  ",templateModal+='  <a href="javascript:void(0);" title="{$txtNo}" class="js-modal-no btn-weak {if !enableNo} btn-disabled{/if}" {if !isNo}style="display:none;"{/if}>{$txtNo}</a>',templateModal+="  </div>",templateModal+="{else}",templateModal+="  {$body}",templateModal+="{/if}",templateModal+="",templateModal+="</div>";var addDrag=function(a,b,c){var d=!1,e=0,f=0,g=$(a),h=$(b),i=$.extend({opacity:.6,duration:.3},c),j=function(a){d&&h.css({left:a.pageX-e+"px",top:a.pageY-f+"px"})},k=function(){d=!1,h[0].style.cssText+="transition: none;opacity:1;",$(document.body).off("mousemove",j)};g.mousedown(function(a){d=!0,e=a.pageX-parseInt(h.css("left")),f=a.pageY-parseInt(h.css("top")),h[0].style.cssText+="transition: opacity "+i.duration+"s ease-in;opacity:"+i.opacity+";",$(document.body).mousemove(j).one("mouseup",k)})};$.fn.drag=function(a,b){a||(a=this),addDrag(this,a,b)};var Modal=function(a){this._index=modalIndex++;var b={title:"提示",className:"",style:"",content:"hello world.",txtYes:"确定",txtNo:"取消",icon:"",nohead:!1,body:"",hotkey:!0,isYes:!0,isNo:!0,enableYes:!0,enableNo:!0,enableClose:!0,buttonsAlign:"right",enableDrag:!0,enableBgClose:!1,width:500,height:"",padding:!0,scroll:!1,yes:function(){},no:function(){},onClose:function(){},onOpen:function(){}};this.opts=$.extend(b,a),this._buttonState={};var c={submit:"txtYes",isDisabled:"enableYes",globalClass:"className",onAccept:"yes",onCancel:"no"};$.each(c,function(a,c){"undefined"!=typeof b[a]&&(b[c]=b[a])}),this.onAccept=this.yes,this.onCancel=this.no,this.async(this.opts.onOpen,this.$,function(){this._update().update()})};Modal.prototype={$:null,$bg:null,$btnYes:null,$btnNo:null,_index:0,_buttons:["enableYes","enableNo","enableClose"],_buttonState:null,opts:null,hotkeyCallback:function(a){if(this.opts.enableBgClose&&a.target===this.$bg[0])return this.closeAsync(this.opts.no,a);if(this.opts.hotkey)return 27===a.which&&this.opts.enableNo?this.closeAsync(this.opts.no,a):13===a.which&&this.opts.enableYes?this.closeAsync(this.opts.yes,a):void 0},async:function(a,b,c){var d=this;if(a.length<2){var e=a.call(d,b);c.call(d,"undefined"==typeof e||e?!0:!1)}else a.call(d,b,function(a){c.call(d,"undefined"==typeof a||a?!0:!1)})},closeAsync:function(a,b){var c=this;this.saveButtonsState(),this.disableButtons(),this.async(a,b,function(a){return a?void(c.opts.enableClose&&c.async(c.opts.onClose,b,function(a){return a?void c.remove():c.recoverButtons()})):c.recoverButtons()})},title:function(a){return this.$.find(".js-modal-title").html(a),this},content:function(a){var b=this.$.find(".msg-text");return 0===b.length&&(b=this.$.find(".modal-bg")),b.html(a),this},remove:function(){this.$.remove(),removeHotkeyCallback(this._hotkeyCallback);var a=$(".js-modal");return 0===a.length?this.$bg.remove():void this.$bg.after(a.eq(a.length-1))},update:function(){return this.$.css({marginTop:"-"+parseInt(this.$.height()/2)+"px",marginLeft:"-"+parseInt(this.$.width()/2)+"px"}),this.$.show(),this},recoverButtons:function(){var a=this;return $.each(a._buttons,function(b,c){a[c](a._buttonState[c])}),this},saveButtonsState:function(){var a=this;return $.each(a._buttons,function(b,c){a._buttonState[c]=a.opts[c]}),this},disableButtons:function(){var a=this;return $.each(["enableYes","enableNo"],function(b,c){a[c](!1)}),this},_update:function(){var a=this;return this.$?this.$.show():(this.$bg=$(".js-modal-bg"),0===this.$bg.length&&(this.$bg=$(templateBg).appendTo($(document.body))),this.$=$($.template(templateModal,this.opts)),this.$.appendTo($(document.body)).before(this.$bg),this._hotkeyCallback=function(){a.hotkeyCallback.apply(a,arguments)},addHotkeyCallback(this._hotkeyCallback),this.opts.enableDrag&&this.$.find(".modal-hd").drag(this.$),this.bindEvents(),this)},bindBtnYesEvent:function(){var a=this;return this.$btnYes=this.$.find(".js-modal-yes").click(function(b){$(this).hasClass("btn-disabled")||a.closeAsync(a.opts.yes,b)}),this},bindBtnNoEvent:function(){var a=this;return this.$btnNo=this.$.find(".js-modal-no").click(function(b){$(this).hasClass("btn-disabled")||(b=b||{},b.btnName="cancel",a.closeAsync(a.opts.no,b))}),this},bindBtnCloseEvent:function(){var a=this;return this.$.find(".js-modal-close").click(function(b){a.$btnNo.hasClass("btn-disabled")||(b=b||{},b.btnName="close",a.closeAsync(a.opts.no,b))}),this},bindEvents:function(){return this.bindBtnYesEvent().bindBtnCloseEvent().bindBtnNoEvent()}},$.each(["enableYes","enableNo","enableClose"],function(a,b){Modal.prototype[b]=function(a){this.opts[b]=a;var c=a?"removeClass":"addClass";return"enableYes"===b&&this.$btnYes[c]("btn-disabled"),"enableNo"===b&&this.$btnNo[c]("btn-disabled"),this}}),$.each(["yes","no","onClose","onOpen"],function(a,b){Modal.prototype[b]=function(a){return this.opts[b]=a,this}}),$.each(["width","height"],function(a,b){Modal.prototype[b]=function(a){return"undefined"==typeof a?this.opts[b]:(this.opts[b]=a,this.$[b](a),this.update())}}),$(document.body).keydown(function(a){triggerHotkey(a)}).delegate(".js-modal-bg","click",function(a){triggerHotkey(a)});var hotKeyCallbacks=[],addHotkeyCallback=function(a){hotKeyCallbacks.push(a)},removeHotkeyCallback=function(a){$.each(hotKeyCallbacks,function(b,c){return c===a?(hotKeyCallbacks.splice(b,1),!1):void 0})},triggerHotkey=function(a){hotKeyCallbacks.length<1||hotKeyCallbacks[hotKeyCallbacks.length-1](a)},modalConfigs={alert:{title:"警告",content:"警告信息！",icon:"alert",isNo:!1,buttonsAlign:"right",enableBgClose:!1},retry:{txtYes:"重试",content:"是否重试？",icon:"alert",enableBgClose:!1},confirm:{title:"确认操作",icon:"alert",txtYes:"确认",content:"请确认是否操作？",enableBgClose:!1},success:{title:"成功提示",icon:"success",content:"操作成功！",isNo:!1},error:{title:"错误提示",icon:"alert",isNo:!1},help:{title:"帮助信息",icon:"info",content:"这是一条帮助信息。",isNo:!1}},modal=function(a){return new Modal(a)};return $.fn.modal=function(a,b,c){var d=arguments.length;return this.click(function(){return 1===d?"object"==typeof a?(c=a,b="",a=a.type||""):(b=a,a="alert"):2===d&&(c=b||{},b=a,a=c.type||"alert"),a?modal[a](b,c):modal(c)})},$.each(modalConfigs,function(a,b){modal[a]=function(a,c){return modal($.extend({},b,{content:a||b.content},c))}}),$.modal=modal,$.Modal=Modal,$._alert=function(a,b,c){return $(".js-modal-bg, .js-modal").remove(),$.Dialog.remove(),c=$.extend({},c||{}),"function"==typeof b?(c.title="提示",c.onAccept=c.onCancel=b):c.title=b||"提示",$.modal.alert(a,c)},$._loading=function(a,b,c){var d=$._alert(a,b,c),e=$('<div class="modal-loading"><div class="spin"></div><p>'+a+"</p></div>");return d.$.find(".bd-msg").empty().append(e),d.$.find(".modal-loading .spin").spin(!0),d},modal}),function(a,b){"function"==typeof define&&define.amd?define("localstorage",[],b):a.localData=b()}(this,function(){function a(){return"undefined"==typeof c&&(c=window.localStorage),!0}function b(a){return"string"!=typeof a?!1:d.test(a)}var c,d=/^[0-9A-Za-z_@-]*$/;return{set:function(d,e){var f=!1;if(b(d)&&a())try{e+="",c.setItem(d,e),f=!0}catch(g){}return f},get:function(d){if(b(d)&&a())try{return c.getItem(d)}catch(e){}return null},remove:function(d){if(b(d)&&a())try{return c.removeItem(d),!0}catch(e){}return!1},clear:function(){if(a())try{for(var b in c)c.removeItem(b);return!0}catch(d){}return!1}}}),function(a,b){"function"==typeof define&&define.amd?define("strEllipsis",["jquery","./localstorage","html"],b):a.strEllipsis=b(a.$,a.localData,a.html)}(this,function(a,b,c){function d(){try{var c=JSON.parse(b.get(k));c&&(j=c)}catch(d){}if(!j.length){for(var e=a('<span style="display:none"></span>').appendTo(document.body),f=0,g=256;g>f;f++)j.push(e.html("&#"+f).width());try{b.set(k,JSON.stringify(j))}catch(d){}}}function e(a,b,c){j.length||d();for(var e,g=a.length,h=a.split(""),i=0,k=3*j[46];c>=1&&g>i;)for(;g>i;i++){if(e=h[i],!e)return g;if("\n"===e){c--,k=0,i+=1;break}if(k+=f(e),k>b){c--,k=0;break}}return i}function f(a){return j[a.charCodeAt(0)]||12}function g(a,b,c,d,e){for(var f=a.toString(),g=f.length,h=0,i=0;g--;){var j=f.charAt(h),k=m(j,d);if(i+k+(1===c?e:0)>b||"\n"===j){if(0===--c)return h;i=0}i+=k,h++}return h}function h(a,b,d){d=Math.max(parseInt(d,10)||1,1),b=parseInt(b,10)||0,a=c.decode(a);var f=e(a,b,d);return f===a.length||1>b?c.encode(a):c.encode(a.substr(0,f))+"..."}function i(a,b,d,e,f){d=Math.max(parseInt(d,10)||1,1),e=parseInt(e,10)||12,f="number"==typeof f?parseInt(f,10):30,b=parseInt(b,10)||0,a=c.decode(a);var h=g(a,b,d,e,f);return h===a.length||1>b?c.encode(a):c.encode(a.substr(0,h))+"..."}var j=[],k="CHAR_VALUE_DICTIONARY",l={},m=function(b,c){var d=(b||"").charCodeAt(0);if(isNaN(d))return 0;if(d>=19968&&40869>=d)return c;if(32===d)return parseInt(c/3,10);var e=a('<span style="display:none;font-size:'+c+'px;"></span>').appendTo(document.body),f=["u",d,"s",c].join(""),g=l[f];return void 0===g&&(g=e.html("&#"+d).width(),l[f]=g),g};return{substring:h,substring_plus:i}}),function(a,b){"function"==typeof define&&define.amd?define("db.status",["db"],b):a.DB=b(a.DB)}(this,function(a){return a.extend({getClientStatus:a.httpMethod({url:"/cgi-bin/tool/get_status",type:"GET"})}),a}),function(a,b){"function"==typeof define&&define.amd?define("monitorTencentOpen",["db","db.status"],b):b(a.DB)}(this,function(a,b){function c(g,h,i){var j=g.getAttribute("data-tid")||g.getAttribute("data-cid")||$.bom.query("course_id");"undefined"==typeof d[j]&&(d[j]=1),a.getClientStatus({param:{course_id:j},succ:function(a){if(0==a.result.info.s){var k="time: "+d[j]+"s, online: "+(a.result.onlstat?"yes":"no")+", ip: "+(a.result.cltip||"unknown")+", client ver:"+(a.result.cltvers||"unknown");b(k,"monitorTencentOpen",0,410354+2*d[j],2),5==d[j]&&b(k+", only 5s","monitorTencentOpen",0,a.result.onlstat?413175:413176,2),d[j]<e?(d[j]++,f[j]=setTimeout(function(){c(g,h,i)},1e3)):(i&&i(),$.render.showEnterRoomFailureTips())}else h&&h(),b("enter course success after open tencent in "+d[j]+"s","monitorTencentOpen",0,410355+2*d[j],2)},err:function(){return i&&i(),!0}})}var b=window.Badjs,d={},e=10,f={},g={};return{init:function(){$(document).on("openQQClientLive",function(a,b){var e=$(b);if(b&&b.getAttribute){var h=b.getAttribute("data-tid")||b.getAttribute("data-cid")||$.bom.query("course_id");d[h]=1,f[h]&&clearTimeout(f[h]),f[h]=setTimeout(function(){c(b,function(){clearInterval(g[h]),e.html("进入课堂")},function(){clearInterval(g[h]),e.html("进入课堂")})},1e3),g[h]&&(clearInterval(g[h]),g[h]=null),e.html('进入中<span class="js-loading-dot loading-dot"></span>');var i=e.find(".js-loading-dot");g[h]=setInterval(function(){var a=i.text();"..."==a?i.text("."):i.text(a+".")},600)}}).on("openQQClientLiveNew",function(a,b){setTimeout(function(){c(b)},1e3)}),$(document).on("click",".js-open-tencent[data-target]",function(a){$.render.url.live(this,{newcard:!0,event:a})})}}}),define("cache",[],function(){var a={},b={},c=function(b){return a[b]},d=function(c,d,e){return b[c]?console.error(c,"is readonly."):(a[c]=d,void(e&&(b[c]=1)))};return{get:c,set:d}}),function(a,b){"function"==typeof define&&define.amd?define("anti_emebed",[],b):a.antiEmbed=b()}(this,function(){function a(){top.location.href=document.location}function b(){try{var b=top.window.location.href;/^http[s]*\:\/\/[^\/]+?qq.com/g.test(b)||a()}catch(c){a()}}var c=0;if(top!=self)try{var d=top.window.location.href;/^http[s]*\:\/\/[^\/]+?qq.com/g.test(d)||a()}catch(e){try{document.domain="qq.com"}catch(e){}c?setTimeout(b,c):b()}}),define("side_operation",["jquery","report","commonTemplate/common/side_operation"],function(a,b,c){function d(){var a=h.scrollTop();0!==a?g.clearQueue().fadeIn():g.clearQueue().fadeOut()}function e(){var c=a("#js-side-operation"),e=a("#js-jump-to-top"),f=a("#js-jump-plan-container"),h=a("#js-plane");-1!=a.inArray(location.pathname,i)&&c.find(".js-c-special").css({display:"block"}),i[3]===location.pathname&&c.find(".js-feedback-link").attr("href","http://support.ke.qq.com/forum.php?mod=forumdisplay&fid=46");var j=0;a(window).on("scroll",function(a){clearTimeout(j),j=setTimeout(d,300)}),g.on("mouseenter",function(a){e.addClass("mod-side-operation__jump-to-top-hover"),f.show().css({top:"-7px"}),h.css("top","56px").animate({top:0})}).on("mouseleave",function(a){e.removeClass("mod-side-operation__jump-to-top-hover"),h.stop().css("top","56px")}),h.on("click",function(d){var e=a(this),g=c.offset().top;1!=e.prop("flying")&&(e.prop("flying",1),f.animate({top:-g-500+"px"}),setTimeout(function(){a("html, body").animate({scrollTop:0},function(){e.prop("flying",0)})},50),b.tdw({action:"up"}),d.preventDefault())})}function f(){a(function(){a("body").append(c),g=a("#js-jump-container"),d(),e()})}var g=null,h=a(window),i=["/agency/join/index.html","/agency/personal/intro.html","/agency/personal/index.html","/agency/index/index.html","/agency/publish/index.html"];return{init:f}}),function(a,b){"function"==typeof define&&define.amd?define("base",["require","jquery","TRecord","es5-safe.wrapper","util.cookie","util.bom","util.str","jquery.lazyload","jquery.slider","jquery.share","jquery.spin","html","report","report.attr","report.cookie","report.common.init","huatuo","huatuo.common.init","login","db","render","header","commonTemplate/common","dialog","modal","strEllipsis","monitorTencentOpen","cache","anti_emebed","side_operation"],b):b(a.jQuery)}(this,function(a){var b=a("jquery");b.extend({cookie:a("util.cookie"),bom:a("util.bom"),str:a("util.str"),initReport:a("report.common.init"),loadScript:function(a,c){b.ajax({type:"GET",url:a,success:c,dataType:"script",cache:!0})}}),window.html=a("html"),window.cdn_switch_detector_js_base=1,window.strEllipsis=a("strEllipsis"),window.TRecord=a("TRecord");var c=a("monitorTencentOpen");c&&c.init&&c.init();var d=a("header");d&&d.init&&d.init();var e=a("side_operation");e&&setTimeout(function(){e.init&&e.init()},0)}),window.BASE_LOAD_SUCC_FLAG=1;