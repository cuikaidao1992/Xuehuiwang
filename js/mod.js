!function(a,b){"function"==typeof define&&define.amd?define("coreJSRoot/index/db.index",["db"],b):a.DB=b(a.DB)}(this,function(a){return a.extend({like:a.httpMethod({url:"/cgi-bin/personalized_recommend"}),get_linking_url_list:a.httpMethod({url:"/cgi-bin/get_linking_url_list"}),get_bottom_agency:a.httpMethod({url:"/cgi-bin/tool/get_bottom_agency"}),getTypeData:a.httpMethod({url:"/cgi-bin/index_type"})}),a}),define("coreTemplateRoot/index/agency_list",[],function(){return function(it,opt){with(it=it||{}){for(var _$out_=[],i=0;i<items.length;i++)_$out_.push('<li class="mod-agency-list__agency"><a target="_blank" href="http://',items[i].agency_domain,'" class="mod-agency-list__link-agency" title="',items[i].agency_name,'_学慧网" report-tdw="action=organization_pic&ver3=',i+1,'"><img lazy-src="',items[i].agency_url,'" class="mod-agency-list__img" alt="',items[i].agency_name,'" /><h4 class="agency-tt hidden-clip">',items[i].agency_name,"</h4></a></li>");return _$out_.join("")}}}),define("coreTemplateRoot/index/category_3",[],function(){return function(it,opt){with(it=it||{}){var _$out_=[];_$out_.push('<div class="',isGrayBg?"wrap-bg-gray":"",'" jump-end="true"> <div class="wrap-catalog-box">  <div class="mod-catalog-box mod-catalog-box_h" data-fid="',f_id,'" data-type="',type,'" data-index="',floorIndex,'"> <div class="mod-catalog-box__header" jump-through="',floorIndex,'"> <h2 class="mod-catalog-box__title"><a href="http://ke.qq.com/cgi-bin/courseList?mt=',f_id,'" class="mod-catalog-box__title-link" target="_blank" jump-start="topfloor_title_click" title="',f_name,'_【培训 学习 课程】">',f_name,'</a></h2> <ul class="mod-catalog-box__nav"> ');for(var i=0,len=s_items.length;len>i;i++){var item=s_items[i],extQueryString=item.s_id>1e5?"&sort=3":item.s_id===f_id?"":"&st="+item.s_id;_$out_.push(' <li class="mod-catalog-box__nav-item',item.selected?" mod-catalog-box__nav-item_current":"",'" data-sid="',item.s_id,'" data-index="',i+1,'" jump-through="',i+1,'"><a href="http://ke.qq.com/cgi-bin/courseList?mt=',f_id,"",extQueryString,'" class="mod-catalog-box__link-nav" target="_blank" title="',item.s_name,"_",f_name,'">',item.s_name,"</a></li> ")}return _$out_.push(' </ul>  </div> <div class="mod-catalog-box__content clearfix"> <a href="',cover_action_url,'" class="mod-catalog-box__link-img" target="_blank" jump-start="topfloor_banner" jump-through="',floorIndex,'" title="',cover_tips,"_在线",f_name,'"> <img lazy-src="',cover_pic_url,'" alt="',cover_tips,"_在线",f_name,'" class="mod-catalog-box__img" width="465" height="220"/> </a> <div class="mod-catalog-box__content-bd course-card-list-9-wrap" data-index="',floorIndex,'"></div> </div> </div>  </div></div>'),_$out_.join("")}}}),define("coreTemplateRoot/index/category_3_content",[],function(){return function(it,opt){with(it=it||{}){var _$out_=[];_$out_.push('<ul class="mod-course-card_list"> ');for(var i=0,len=Math.min(items.length,3);len>i;i++){var item=items[i];_$out_.push(' <li class="mod-course-card__item"> <div class="mod-course-card',2===item.type?" mod-course-card_lu":"",'" jump-start="topfloor_class_click" jump-through="',fIndex,"&",sIndex,"&",i+1,'"> <a href="',(2===item.type,"/cgi-bin/courseDetail?course_id="+item.course_id),'" target="_blank" class="mod-course-card__link-img" data-id="',item.course_id,'" data-index="',i+1,'"> <img lazy-src="',item.cover_url,'220" alt="',item.name,'" title="',item.name,'" class="mod-course-card__img" width="220" height="124"/> '),2===item.type&&_$out_.push(' <i class="icon-card-lu"></i> '),_$out_.push(" "),item.expr_flag&&0!==item.expr_flag&&_$out_.push(' <div class="mod-support-listen">免费试听</div> '),_$out_.push(' </a> <div class="course-title"> '),item.activity_label=item.activity_label||[],item.activity_label.forEach(function(a){a.icon_url&&_$out_.push(' <a class="icon_label" href="',a.activity_url,'" target="_blank" title="',a.name,'"><img src="',a.icon_url,'" width="12px" height="12px" /></a> ')}),_$out_.push(' <a href="/cgi-bin/courseDetail?course_id=',item.course_id,'" target="_blank" class="mod-course-card__name" title="',item.name,'" data-id="',item.course_id,'" data-index="',i+1,'">',item.name,'</a> </div> <p class="mod-course-card__line"> <span class="mod-course-card__price',0===item.price?" mod-course-card__price_free":"",'">',$.render.formatPrice(item.price),'</span> <i class="icon-sep"></i> '),item.famousV?_$out_.push(' <span class="mod-course-card__teacher">',item.famousName,'<a class="v-flag" report-tdw="module=V-VJT&action=v-clk&ver1=item.course_id" title="名人讲师" href="http://ke.qq.com/activity/lectureroom/index.html?from=10" target="_blank"></a></span> '):_$out_.push(' <a href="http://',item.agency_domain,'" target="_blank" class="mod-course-card__agency" title="',item.agency_name,'" report-tdw="action=topfloor_organization&ver1=',item.course_id,'">',item.agency_name,"</a> "),_$out_.push(" </p> </div> </li> ")}return _$out_.push("</ul>"),_$out_.join("")}}}),define("coreTemplateRoot/index/category_6",[],function(){return function(it,opt){with(it=it||{}){var _$out_=[];_$out_.push('<div class="',isGrayBg?"wrap-bg-gray":"",'" jump-end="true"> <div class="wrap-catalog-box">  <div class="mod-catalog-box mod-catalog-box_v" data-fid="',f_id,'" data-type="',type,'" data-index="',floorIndex,'"> <div class="mod-catalog-box__header" jump-through="',floorIndex,'"> <h2 class="mod-catalog-box__title"><a href="http://ke.qq.com/cgi-bin/courseList?mt=',f_id,'" class="mod-catalog-box__title-link" target="_blank" jump-start="topfloor_title_click" title="',f_name,'_【在线 免费 课程】">',f_name,'</a></h2> <ul class="mod-catalog-box__nav"> ');for(var i=0,len=s_items.length;len>i;i++){var item=s_items[i],extQueryString=item.s_id>1e5?"&sort=3":item.s_id===f_id?"":"&st="+item.s_id;_$out_.push(' <li class="mod-catalog-box__nav-item',item.selected?" mod-catalog-box__nav-item_current":"",'" data-sid="',item.s_id,'" data-index="',i+1,'" jump-through="',i+1,'"><a href="http://ke.qq.com/cgi-bin/courseList?mt=',f_id,"",extQueryString,'" class="mod-catalog-box__link-nav" target="_blank" jump-start="topfloor_tab_click" title="',item.s_name,"_",f_name,'">',item.s_name,"</a></li> ")}return _$out_.push(' </ul>  </div> <div class="mod-catalog-box__content clearfix"> <a href="',cover_action_url,'" target="_blank" class="mod-catalog-box__link-img" title="',cover_tips,"_在线",f_name,'" jump-start="topfloor_banner" jump-through="',floorIndex,'"> <img lazy-src="',cover_pic_url,'" alt="',cover_tips,"_在线",f_name,'" class="mod-catalog-box__img mod-catalog-box-banner" width="240" height="420"/> </a> <div class="mod-catalog-box__content-bd course-card-list-9-wrap" data-index="',floorIndex,'"></div> </div> </div>  </div></div>'),_$out_.join("")}}}),define("coreTemplateRoot/index/category_6_content",[],function(){return function(it,opt){with(it=it||{}){var _$out_=[];_$out_.push('<div class="mod-catalog-box__wrap-course-rank" jump-end="true">  <div class="mod-course-rank" jump-through="',fIndex,'"> <div class="mod-course-rank__header"> <ul class="mod-course-rank__nav"> <li class="mod-course-rank__nav-item',"free"===showRankTab?" mod-course-rank__nav-item_current":"",'" data-sid="',s_id,'" data-tab="free"><span class="mod-course-rank__link-nav">免费排行</span></li> <li class="mod-course-rank__nav-item',"free"!==showRankTab?" mod-course-rank__nav-item_current":"",'" data-sid="',s_id,'" data-tab="pay"><span class="mod-course-rank__link-nav">付费排行</span></li> </ul> </div> <div class="mod-course-rank__content"> <ul class="mod-course-rank__rank-list',"free"===showRankTab?" mod-course-rank__rank-list_current":"",'" data-tab="free" jump-through="1"> ');for(var i=0,len=Math.min(free_course_list.length,9);len>i;i++){var item=free_course_list[i];!item.course_id&&(item.course_id=item.cid),_$out_.push(' <li class="mod-course-rank__rank-item',0===i?" mod-course-rank__rank-item_first":"",'" jump-start="topfloor_rank_click" jump-through="',i+1,'"> <span class="mod-course-rank__rank-number mod-course-rank__rank-number_',i+1,'">',i+1,"</span> "),0===i?_$out_.push(' <div class="mod-course-rank__rank-content"> <a href="/cgi-bin/courseDetail?course_id=',item.course_id,'" target="_blank" class="mod-course-rank__course-name" title="',item.name,'" data-id="',item.course_id,'">',item.name,'</a> <a href="/cgi-bin/courseDetail?course_id=',item.course_id,'" target="_blank" class="mod-course-rank__link-img" title="',item.name,'" data-id="',item.course_id,'"> <img lazy-src="',item.cover_url,'90" alt="',item.name,'" title="',item.name,'" class="mod-course-rank__course-img" width="90" height="50"/> </a> <div class="mod-course-rank__course-des"> <span class="mod-course-rank__course-price">',item.apply_num+"人",'</span> <span class="mod-course-rank__agency-name" title="',item.agency_name,'">',item.agency_name,"</span> </div> </div> "):_$out_.push(' <a href="/cgi-bin/courseDetail?course_id=',item.course_id,'" target="_blank" class="mod-course-rank__course-name" title="',item.name,'" data-id="',item.course_id,'">',item.name,"</a> "),_$out_.push(" </li> ")}_$out_.push(' </ul> <ul class="mod-course-rank__rank-list',"free"!==showRankTab?" mod-course-rank__rank-list_current":"",'" data-tab="pay" jump-through="2"> ');for(var i=0,len=Math.min(pay_course_list.length,9);len>i;i++){var item=pay_course_list[i];!item.course_id&&(item.course_id=item.cid),_$out_.push(' <li class="mod-course-rank__rank-item',0===i?" mod-course-rank__rank-item_first":"",'" jump-start="topfloor_rank_click" jump-through="',i+1,'"> <span class="mod-course-rank__rank-number mod-course-rank__rank-number_',i+1,'">',i+1,"</span> "),0===i?_$out_.push(' <div class="mod-course-rank__rank-content"> <a href="/cgi-bin/courseDetail?course_id=',item.course_id,'" target="_blank" class="mod-course-rank__course-name" title="',item.name,'" data-id="',item.course_id,'">',item.name,'</a> <a href="/cgi-bin/courseDetail?course_id=',item.course_id,'" target="_blank" class="mod-course-rank__link-img" title="',item.name,'" data-id="',item.course_id,'"> <img lazy-src="',item.cover_url,'90" alt="',item.name,'" title="',item.name,'" class="mod-course-rank__course-img" width="90" height="50"/> </a> <div class="mod-course-rank__course-des"> <span class="mod-course-rank__course-price">',$.render.formatPrice(item.price),'</span> <span class="mod-course-rank__agency-name" title="',item.agency_name,'">',item.agency_name,"</span> </div> </div> "):_$out_.push(' <a href="/cgi-bin/courseDetail?course_id=',item.course_id,'" target="_blank" class="mod-course-rank__course-name" title="',item.name,'" data-id="',item.course_id,'">',item.name,"</a> "),_$out_.push(" </li> ")}return _$out_.push(" </ul> </div> </div> </div>"),_$out_.join("")}}}),define("coreTemplateRoot/index/nodata",[],function(){return function(it,opt){with(it=it||{}){var _$out_=[];return _$out_.push('<div class="section-msg section-msg--small"> <div class="msg-inner"> <i class="icon-font i-info icon-msg-large"></i> <div class="msg-text">数据加载失败，请<a href="javascript:void(0)" class="nor-link nodata-retry" data-sid="',sid,'">点击重试</a></div> </div></div>'),_$out_.join("")}}}),define("coreTemplateRoot/index",["./index/agency_list","./index/category_3","./index/category_3_content","./index/category_6","./index/category_6_content","./index/nodata"],function(a,b,c,d,e,f){return{agency_list:a,category_3:b,category_3_content:c,category_6:d,category_6_content:e,nodata:f}}),function(a,b){"function"==typeof define&&define.amd?define("coreJSRoot/index/pageViewer",["jquery"],b):a.PageViewer=b(a.jQuery)}(this,function(a){var b=function(a){this.pre_btn=a.pre_btn,this.next_btn=a.next_btn,this.container=a.container,this.width=a.width,this.isShow=!!a.isShow,this.maxPage=a.maxPage,this.action=a.action,this.curMaxPage=1,this.curPage=1,this.init()};return b.prototype={init:function(){this.lazyLoad()},bindCoursePage:function(){if(this.maxPage<=1)return!1;var a=this.container.parent().parent(),b=this;this.isShow?(b.pre_btn.show(),b.next_btn.show()):a.on("mouseenter",function(a){b.pre_btn.show(),b.next_btn.show()}).on("mouseleave",function(a){b.pre_btn.hide(),b.next_btn.hide()}),this.pre_btn.on("click",function(a){b.curPage<=1||(b.curPage-=1,b.container.animate({marginLeft:"+="+b.width+"px"},"normal"),b.checkBtnStatus())}),this.next_btn.on("click",function(a){b.curPage>=b.maxPage||(b.curPage+=1,b.container.animate({marginLeft:"-="+b.width+"px"},"normal"),b.lazyLoad(),b.checkBtnStatus(),b.curPage>b.curMaxPage&&b.curPage<b.maxPage&&(b.curMaxPage=b.curPage,b.action({page:b.curPage+1,cont:b.container},a)),a.preventDefault())})},lazyLoad:function(){var b=a(this.container.find(".market-list-mod")[this.curPage-1]);b&&!b.attr("data-lazyDone")&&(b.attr("data-lazyDone","1"),b.lazyload())},checkBtnStatus:function(){this.curPage<=1?(this.pre_btn.addClass("prev-btn-dis"),this.next_btn.removeClass("next-btn-dis")):this.curPage>=this.maxPage?(this.pre_btn.removeClass("prev-btn-dis"),this.next_btn.addClass("next-btn-dis")):(this.pre_btn.removeClass("prev-btn-dis"),this.next_btn.removeClass("next-btn-dis"))}},b}),function(a,b){"function"==typeof define&&define.amd?define("coreJSRoot/index/course.list",["jquery","coreJSRoot/index/db.index","report","header","html","coreTemplateRoot/index","commonTemplate/common"],b):a.CourseList=b(a.jQuery,a.DB,a.report,a.header,a.html)}(this,function(a,b,c,d,e,f){function g(a){for(var b=a.sid,c=0,d=t.length;d>c;c++)for(var e=0,f=t[c].s_items.length;f>e;e++)if(t[c].s_items[e].s_id==b)return t[c].s_items[e];return null}function h(b){var c=+new Date;for(var d in b){var e=g({sid:parseInt(d)});e?a.extend(!0,e,b[d],{timestamp:c,loaded:!0}):console.log("record not found!")}}function i(a){var b=+new Date;return b-a.timestamp>3e5?!0:!1}function j(a,c){b.getTypeData({param:{req_list:JSON.stringify(a)},succ:function(a){var b=a.result;h(b),c&&c(null)},err:function(a){return c&&c(a),!0}})}function k(){d.getInfo(function(a){s=a||{}});for(var b=[],c=[],e=0,g=t.length;g>e;e++)for(var h=0,i=t[e].s_items.length;i>h;h++)0===h?(b.push(t[e].s_items[h].s_id),r[t[e].f_id]=t[e].s_items[h].s_id):c.push(t[e].s_items[h].s_id),t[e].s_items[h].showRankTab="free",t[e].s_items[h].free_course_list=null,t[e].s_items[h].pay_course_list=null,t[e].s_items[h].items=null;l(),n(),j(b,function(d){if(d)for(var e=q.find(".mod-catalog-box__content-bd"),g=0,h=e.length;h>g;g++)a(e[g]).html(f.nodata({sid:b[g]}));else n(),j(c)})}function l(){q.on("mouseenter",".mod-catalog-box__nav-item",function(){var b=a(this);if(b.hasClass("mod-catalog-box__nav-item_current"))return!1;var d=b.data("sid"),e=b.closest(".mod-catalog-box"),h=e.data("type"),k=e.data("fid"),l=g({sid:d}),n=b.closest(".mod-catalog-box").data("index"),p=b.data("index"),q=b.closest(".mod-catalog-box").find(".mod-catalog-box__content-bd");b.closest(".mod-catalog-box__nav").find(".mod-catalog-box__nav-item").removeClass("mod-catalog-box__nav-item_current"),b.addClass("mod-catalog-box__nav-item_current"),r[k]=d,l.fIndex=n,l.sIndex=p,l.loaded?(o(q,l,h),i(l)&&j([d],function(a){m(d)&&(a||(l=g({sid:d}),o(q,l,h)))})):(q.html(""),3===h?q.spin({top:80,left:350}):q.spin({top:180,left:480}),j([d],function(a){if(m(d)){if(a)return void q.html(f.nodata({sid:d}));q.spin(!1),l=g({sid:d}),o(q,l,h)}})),c.tdw({action:"topfloor_tab_hover",obj3:s.role_type,ver2:n,ver3:p})}),q.on("mouseenter",".mod-course-rank__nav-item",function(){var b=a(this);if(b.hasClass("mod-course-rank__nav-item_current"))return!1;var d=b.closest(".mod-course-rank").find(".mod-course-rank__rank-list"),e=b.data("sid"),f=b.data("tab"),h=b.closest(".mod-catalog-box").data("index"),i=g({sid:e});b.closest(".mod-course-rank__nav").find(".mod-course-rank__nav-item").removeClass("mod-course-rank__nav-item_current"),b.addClass("mod-course-rank__nav-item_current"),d.removeClass("mod-course-rank__rank-list_current"),d.filter(function(b,c){return a(c).data("tab")===f?!0:void 0}).addClass("mod-course-rank__rank-list_current"),i.showRankTab=f,c.tdw({action:"topfloor_rank_view",obj3:s.role_type,ver2:h,ver3:"pay"===f?1:2})}),q.on("click",".nodata-retry",function(){var b=a(this),c=b.closest(".mod-catalog-box__content-bd"),d=b.closest(".mod-catalog-box").data("type"),e=b.data("sid");c.html(""),3===d?c.spin({top:80,left:350}):c.spin({top:180,left:480}),j([e],function(a){if(m(e)){if(a)return void c.html(f.nodata({sid:e}));c.spin(!1),record=g({sid:e}),o(c,record,d)}})}),q.on("click",".mod-catalog-box .mod-catalog-box__title",function(){var b=a(this),d=b.closest(".mod-catalog-box").data("index");c.tdw({action:"topfloor_title_click",obj3:s.role_type,ver2:d})}),q.on("click",".mod-catalog-box .mod-catalog-box__img",function(){var b=a(this),d=b.closest(".mod-catalog-box").data("index");c.tdw({action:"topfloor_banner",obj3:s.role_type,ver2:d})}),q.on("click",".mod-catalog-box__nav-item",function(){c.tdw({action:"topfloor_tab_click",obj3:s.role_type})}),q.on("click",".mod-catalog-box .mod-course-card__link-img, .mod-catalog-box .mod-course-card__name",function(){var b=a(this),d=b.data("id"),e=b.data("index"),f=b.closest(".mod-catalog-box").find(".mod-catalog-box__nav-item_current").data("index"),g=b.closest(".mod-catalog-box").data("index");c.tdw({action:"topfloor_class_click",obj1:f,obj3:s.role_type,ver1:d,ver2:g,ver3:e})}),q.on("click",".mod-course-rank .mod-course-rank__link-img, .mod-course-rank .mod-course-rank__course-name",function(){var b=a(this),d=b.data("id"),e=b.closest(".mod-course-rank__rank-list").data("tab"),f=b.closest(".mod-catalog-box").find(".mod-catalog-box__nav-item_current").data("index"),g=b.closest(".mod-catalog-box").data("index");c.tdw({action:"topfloor_rank_click",obj1:f,obj3:s.role_type,ver1:d,ver2:g,ver3:"pay"===e?1:2})});var b={};a(window).scroll(function(d){for(var e,f,g=a(".mod-catalog-box__content-bd"),h=0,i=g.length;i>h;h++)e=a(g[h]),e.isOnScreen()&&!b[h]&&(f=e.closest(".mod-catalog-box").data("index"),c.tdw({action:"topfloor_view",obj3:s.role_type,ver2:f}),b[h]=!0)})}function m(a){for(var b in r)if(a===r[b])return!0;return!1}function n(){for(var b="",c=0,d=t.length;d>c;c++){var e=t[c].s_items[0],g=t[c].type,h=a("<div></div>");if(e||(e=[]),t[c].isGrayBg=c%2===0,t[c].floorIndex=c+1,e.selected=!0,e.fIndex=c+1,e.sIndex=1,3===g)h.html(f.category_3(t[c])),e.items&&h.find(".mod-catalog-box__content-bd").html(p.card_list_new({course_list:e.items},{lazyload:!0,fIndex:e.fIndex,sIndex:e.sIndex,cardPos:e.fIndex+2+"."+e.sIndex,simplify:!0}));else if(6===g&&(h.html(f.category_6(t[c])),e.items)){var i="";i+=p.card_list_new({course_list:e.items},{lazyload:!0,fIndex:e.fIndex,sIndex:e.sIndex,cardPos:e.fIndex+2+"."+e.sIndex,simplify:!0}),i+=f.category_6_content(e),h.find(".mod-catalog-box__content-bd").html(i)}b+=h.html()}q.html(b).lazyload()}function o(a,b,c){var d="";a.data("index");3===c?d=p.card_list_new({course_list:b.items},{lazyload:!0,fIndex:b.fIndex,sIndex:b.sIndex,cardPos:b.fIndex+2+"."+b.sIndex,simplify:!0}):6===c&&(d+=p.card_list_new({course_list:b.items},{lazyload:!0,fIndex:b.fIndex,sIndex:b.sIndex,cardPos:b.fIndex+2+"."+b.sIndex,simplify:!0}),d+=f.category_6_content(b)),a.html(d).lazyload()}var p=require("commonTemplate/common"),q=a("#categroy-tpl-box"),r={},s={},t=window.categoryInfos;return a.fn.isOnScreen=function(){var b=a(window),c={top:b.scrollTop(),left:b.scrollLeft()};c.right=c.left+b.width(),c.bottom=c.top+b.height();var d=this.offset();return d.right=d.left+this.outerWidth(),d.bottom=d.top+this.outerHeight(),!(c.right<d.left||c.left>d.right||c.bottom<d.top||c.top>d.bottom)},{init:k}}),function(a,b){"function"==typeof define&&define.amd?define("timing",["jquery"],b):a.Timing=b()}(this,function(a){function b(b,c){var b=b.split("-"),e=[];a(b).each(function(a,b){e.push("flagid=".replace("id",a+1)+b)});for(var f in c)e.push(f+"="+c[f]);var g=new Image;d.push(g),g.src="http://isdspeed.qq.com/cgi-bin/r.cgi?"+e.join("&")}function c(c){if(window.performance){var d=performance.timing,e=d.navigationStart,f={},g=["unloadEventStart","unloadEventEnd","redirectStart","redirectEnd","fetchStart","domainLookupStart","domainLookupEnd","connectStart","connectEnd","requestStart","responseStart","responseEnd","domLoading","domInteractive","domContentLoadedEventStart","domContentLoadedEventEnd","domComplete","loadEventStart","loadEventEnd"],h=1;a(g).each(function(a,b){f[h++]=Math.max(d[b]-e,0)}),b(c,f)}}var d=[];return{report:function(a){setTimeout(function(){c(a)},0)}}}),function(a,b){"function"==typeof define&&define.amd?define("resource.timing",["jquery"],b):a.ResourceTiming=b()}(this,function(a){function b(b,c){var b=b.split("-"),d=[];a(b).each(function(a,b){d.push("flagid=".replace("id",a+1)+b)});for(var e in c)d.push(e+"="+c[e]);(new Image).src="http://isdspeed.qq.com/cgi-bin/r.cgi?"+d.join("&")}function c(c,d){if(window.performance&&(performance.getEntriesByName||performance.webkitGetEntriesByName)){var e=performance.getEntriesByName?performance.getEntriesByName(d):performance.webkitGetEntriesByName(d);if(e&&0!=e.length){e=e[0];var f=["connectEnd","connectStart","domainLookupEnd","domainLookupStart","duration","fetchStart","redirectEnd","redirectStart","requestStart","responseEnd","responseStart","startTime"],g=1,h=[];a(f).each(function(a,b){h[g++]=Math.ceil(e[b])}),b(c,h)}}}return{report:function(a,b){setTimeout(function(){c(a,b)},0)}}}),require(["require","jquery","base","report","huatuo","header","login","db","coreJSRoot/index/db.index","coreTemplateRoot/index","commonTemplate/common","coreJSRoot/index/pageViewer","coreJSRoot/index/course.list","timing","resource.timing","check"],function(a){function b(){r.push("page_main_start"),g(),h(),i(),n(),j(),k(),l(),c(),v.init(),r.push("page_main_end"),e(),f("flag1=1610&flag2=1&flag3=1"),d(),!!window.ActiveXObject&&!window.XMLHttpRequest&&setInterval(function(){o("#js_main_nav").get(0).style.zoom=1},1e3),"complete"===document.readyState?x.report("7832-39-43"):o(window).on("load",function(){x.report("7832-39-43")}),o.loadScript("http://pingjs.qq.com/ping.js",function(){"function"==typeof window.pgvMain&&window.pgvMain()});var a=o('script[src*="common/base"]').attr("src");a&&y.report("7832-39-50",a)}function c(){z.isWeixinUser()&&o(".js-apply-entrance").hide()}function d(){w.getInfo(function(a){e(a.is_login?{obj3:a.role_type}:{obj3:3}),q.tdw({action:"Exposure"})})}function e(a){a=a||{},a.module="index",o.initReport(a)}function f(a){o.initHuatuo(a)}function g(){p.get_linking_url_list({param:{},succ:function(a){var b=o.map(a.result.link_out,function(a,b){var c=a.link_url;return c.match(/^http(s)?/)||c.match(/^\/\//)||(c="http://"+c),'<li><a class="link-cooperation" href="'+c+'" title="'+a.name+'" target="_blank" report-tdw="action=cooperation_click&ver3='+(b+1)+'">'+a.name+"</a></li>"}).join("");o("#js-cooperation-list").html(b)},err:function(){return!0}})}function h(){o(".js-mod-category").on("mouseenter mouseleave",function(a){var b=o(this).find(".js-mod-category-side"),c=o(this).data("index");"mouseenter"===a.type?(b.fadeIn(),q.tdw({action:"title_first_hover",ver3:c})):b.stop().hide()}),o("#js-course-list").on("mouseenter",function(a){q.tdw({action:"title_first_hover",ver3:"0"})}).on("click",function(a){a.preventDefault();var b=o(this).prop("href");q.tdw({action:"title_first_click",ver3:"0"}),window.open(b,"_blank")})}function i(){var a={};o("#js_banner").slider({type:"fade",nb:o("#js_slider_next"),pb:o("#js_slider_pre"),sliderbox:o("#js_sliderbox"),slidernav:o("#js_slidernav"),sliderNum:1,isAuto:!0,slideCb:function(b,c){var d=o("#js-big-banner .js-big-banner-nav").eq(b).data("bg-color");if(o("#js-wrap-banner-bg").css("background",d),!a[b]){a[b]=!0;var e=o("#js_sliderbox > li").eq(b).find("img");q.tdw({action:"Banner-show",ver2:e.attr("src")+","+e.attr("alt"),ver1:b})}}})}function j(){var a,b=[],c=0,d=function(){p.like({succ:function(d){var f=d.result;b=f.course_list||[],a=f.alg_id||0,e(b,c)},err:function(a){o(".wrap-catalog-box_like").hide()}})},e=function(b,d){var e=[],f=[],g=Math.min(Math.ceil(b.length/5),5),h=o("#js-wrap-like");g>0&&o(".wrap-catalog-box_like").show(),d>=g&&(d=0),f=b.slice(5*d,5*(d+1)),h.html(t.card_list_new({course_list:f},{lazyload:!1,cardPos:1,simplify:!0})),f.forEach(function(a){e.push(a.course_id)}),c=d,q.tdw({action:"expo",obj2:a,ver2:c+1,ver3:e.join("_")})};o("#js-like").on("click",".mod-like__link",function(a){e(b,c+1),q.tdw({action:"change_clk",ver3:c+1})}),d()}function k(){var a="live",b=o("#js-mod-catelog-box .js-nav-item");b.on("mouseenter",function(c){var d=o(this),e=d.data("nav");a!=e&&(b.removeClass("mod-catalog-box__nav-item_current"),d.addClass("mod-catalog-box__nav-item_current"),o("#js-"+a+"-course").stop().hide(),o("#js-"+e+"-course").fadeIn(),a=e,q.tdw({action:"hotclass_hover",obj3:A.role_type,ver3:"live"===e?1:2}))}),o("#js-mod-catelog-box-hot").on("click",".mod-course-card__link-img, .mod-course-card__name",function(){var b=o(this),c=b.data("id"),d=b.closest(".mod-course-card__item").data("index");q.tdw({action:"hotclass_click",obj3:A.role_type,ver1:c,ver2:d+1,ver3:"live"===a?1:2})}),o("#js-mod-catelog-box-hot").on("click",".mod-catalog-box__title",function(){q.tdw({action:"topfloor_title_click",obj3:A.role_type,ver2:"0"})})}function l(){m()}function m(){function a(c){p.get_bottom_agency({param:{page:c.page||1,count:c.count||b},noNeedLogin:!0,succ:function(d){TRecord.push("agency_delay",T[0]+d.delay),o("body").trigger("render",{n:"getAgencyList"});for(var e=d.result,f=o("#js_agency_list"),g=1025,h="",i=0,j=Math.ceil(e.items.length/b);j>i;i++){var k=e.items.slice(i*b,(i+1)*b);h+='<ul class="mod-agency-list__agencies">'+s.agency_list({items:k})+"</ul>"}f.width(f.width()+g),c.first?(f.html(h).lazyload(),new u({container:f,pre_btn:o("#js_agency_prev"),next_btn:o("#js_agency_next"),width:g,maxPage:Math.ceil(e.total_num/b),isShow:!0,action:a}).bindCoursePage()):f.append(h).lazyload()},err:function(a){if(TRecord.push("agency_delay",T[0]+a.delay),o("body").trigger("render",{n:"getAgencyList"}),c.first){var b='<li class="l-error">数据加载失败，请<a href="javascript:void(0)" class="nor-link error">点击重试</a></li>',d=o("#js_agency_list");d.html(b),d.find(".nor-link").one("click",function(){m()})}return!0}})}var b=8,c={page:1,count:16,first:!0};a(c)}function n(){var a=document.all&&!window.atob,b=o(".qr-app-link"),c=b.find(".qr-app-tips");c.addClass("tips-force-in"),setTimeout(function(){c.removeClass("tips-force-in").addClass("tips-force-out")},1e4),a||b.hover(function(){b.removeClass("hover-leave").addClass("hover")},function(){b.removeClass("hover").addClass("hover-leave"),b.find(".icon-app-animation").one("webkitAnimationEnd animationEnd",function(){b.removeClass("hover-leave"),b.find(".icon-app-phone").css("display","block")})})}var o=a("jquery"),p=a("db"),q=a("report"),r=a("huatuo"),s=a("coreTemplateRoot/index"),t=a("commonTemplate/common"),u=a("coreJSRoot/index/pageViewer"),v=a("coreJSRoot/index/course.list"),w=a("header"),x=a("timing"),y=a("resource.timing"),z=a("check"),A={};b()}),window.INDEX_LOAD_SUCC_FLAG=1,define("coreJSRoot/index/mod.main",function(){});